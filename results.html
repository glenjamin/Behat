<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns ="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html;charset=utf-8"/>
    <title>Behat Test Suite</title>
    <style type="text/css">
        body {
            margin:0px;
            padding:0px;
            position:relative;
            padding-top:75px;
        }
        #behat {
            float:left;
            font-family: Georgia, serif;
            font-size:18px;
            line-height:26px;
            width:100%;
        }
        #behat .statistics {
            float:left;
            width:100%;
            margin-bottom:15px;
        }
        #behat .statistics p {
            text-align:right;
            padding:5px 15px;
            margin:0px;
            border-right:10px solid #000;
        }
        #behat .statistics.failed p {
            border-color:#C20000;
        }
        #behat .statistics.passed p {
            border-color:#3D7700;
        }
        #behat .feature {
            margin:15px;
        }
        #behat h2, #behat h3, #behat h4 {
            margin:0px 0px 5px 0px;
            padding:0px;
            font-family:Georgia;
        }
        #behat h2 .title, #behat h3 .title, #behat h4 .title {
            font-weight:normal;
        }
        #behat .path {
            font-size:10px;
            font-weight:normal;
            font-family: 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace !important;
            color:#999;
            padding:0px 5px;
            float:right;
        }
        #behat .path a:link,
        #behat .path a:visited {
            color:#999;
        }
        #behat .path a:hover,
        #behat .path a:active {
            background-color:#000;
            color:#fff;
        }
        #behat h3 .path {
            margin-right:4%;
        }
        #behat ul.tags {
            font-size:14px;
            font-weight:bold;
            color:#246AC1;
            list-style:none;
            margin:0px;
            padding:0px;
        }
        #behat ul.tags li {
            display:inline;
        }
        #behat ul.tags li:after {
            content:' ';
        }
        #behat ul.tags li:last-child:after {
            content:'';
        }
        #behat .feature > p {
            margin-top:0px;
            margin-left:20px;
        }
        #behat .scenario {
            margin-left:20px;
            margin-bottom:20px;
        }
        #behat .scenario > ol,
        #behat .scenario .examples > ol {
            margin:0px;
            list-style:none;
            padding:0px;
        }
        #behat .scenario > ol {
            margin-left:20px;
        }
        #behat .scenario > ol:after,
        #behat .scenario .examples > ol:after {
            content:'';
            display:block;
            clear:both;
        }
        #behat .scenario > ol li,
        #behat .scenario .examples > ol li {
            float:left;
            width:95%;
            padding-left:5px;
            border-left:5px solid;
            margin-bottom:4px;
        }
        #behat .scenario > ol li .argument,
        #behat .scenario .examples > ol li .argument {
            margin:10px 20px;
            font-size:16px;
            overflow:hidden;
        }
        #behat .scenario > ol li table.argument,
        #behat .scenario .examples > ol li table.argument {
            border:1px solid #d2d2d2;
        }
        #behat .scenario > ol li table.argument thead td,
        #behat .scenario .examples > ol li table.argument thead td {
            font-weight: bold;
        }
        #behat .scenario > ol li table.argument td,
        #behat .scenario .examples > ol li table.argument td {
            padding:5px 10px;
            background:#f3f3f3;
        }
        #behat .scenario > ol li .keyword,
        #behat .scenario .examples > ol li .keyword {
            font-weight:bold;
        }
        #behat .scenario > ol li .path,
        #behat .scenario .examples > ol li .path {
            float:right;
        }
        #behat .scenario .examples {
            margin-top:20px;
            margin-left:40px;
        }
        #behat .scenario .examples h4 span {
            font-weight:normal;
            background:#f3f3f3;
            color:#999;
            padding:0 5px;
            margin-left:10px;
        }
        #behat .scenario .examples table {
            margin-left:20px;
        }
        #behat .scenario .examples table thead td {
            font-weight:bold;
            text-align:center;
        }
        #behat .scenario .examples table td {
            padding:2px 10px;
            font-size:16px;
        }
        #behat .scenario .examples table .failed.exception td {
            border-left:5px solid #000;
            border-color:#C20000 !important;
            padding-left:0px;
        }
        pre {
            font-family:monospace;
        }
        .snippet {
            font-size:14px;
            color:#000;
            margin-left:20px;
        }
        .backtrace {
            font-size:12px;
            line-height:18px;
            color:#000;
            overflow:hidden;
            margin-left:20px;
            padding:15px;
            border-left:2px solid #C20000;
            background: #fff;
            margin-right:15px;
        }
        #behat .passed {
            background:#DBFFB4;
            border-color:#65C400 !important;
            color:#3D7700;
        }
        #behat .failed {
            background:#FFFBD3;
            border-color:#C20000 !important;
            color:#C20000;
        }
        #behat .undefined, #behat .pending {
            border-color:#FAF834 !important;
            background:#FCFB98;
            color:#000;
        }
        #behat .skipped {
            background:lightCyan;
            border-color:cyan !important;
            color:#000;
        }
        #behat .summary {
            position: absolute;
            top: 0px;
            left: 0px;
            width:100%;
            font-family: Arial, sans-serif;
            font-size: 14px;
            line-height: 18px;
        }
        #behat .summary .counters {
            padding: 10px;
            border-top: 0px;
            border-bottom: 0px;
            border-right: 0px;
            border-left: 5px;
            border-style: solid;
            height: 52px;
            overflow: hidden;
        }
        #behat .summary .switchers {
            position: absolute;
            right: 15px;
            top: 25px;
        }
        #behat .summary .switcher {
            text-decoration: underline;
            cursor: pointer;
        }
        #behat .summary .switchers a {
            margin-left: 10px;
            color: #000;
        }
        #behat .summary .switchers a:hover {
            text-decoration:none;
        }
        #behat .summary p {
            margin:0px;
        }
        #behat .jq-toggle > .scenario,
        #behat .jq-toggle > ol,
        #behat .jq-toggle > .examples {
            display:none;
        }
        #behat .jq-toggle-opened > .scenario,
        #behat .jq-toggle-opened > ol,
        #behat .jq-toggle-opened > .examples {
            display:block;
        }
        #behat .jq-toggle > h2,
        #behat .jq-toggle > h3 {
            cursor:pointer;
        }
        #behat .jq-toggle > h2:after,
        #behat .jq-toggle > h3:after {
            content:' |+';
            font-weight:bold;
        }
        #behat .jq-toggle-opened > h2:after,
        #behat .jq-toggle-opened > h3:after {
            content:' |-';
            font-weight:bold;
        }
    </style>

    <style type="text/css" media="print">
        body {
            padding:0px;
        }

        #behat {
            font-size:11px;
        }

        #behat .jq-toggle > .scenario,
        #behat .jq-toggle > .scenario .examples,
        #behat .jq-toggle > ol {
            display:block;
        }

        #behat .summary {
            position:relative;
        }

        #behat .summary .counters {
            border:none;
        }

        #behat .summary .switchers {
            display:none;
        }

        #behat .step .path {
            display:none;
        }

        #behat .jq-toggle > h2:after,
        #behat .jq-toggle > h3:after {
            content:'';
            font-weight:bold;
        }

        #behat .jq-toggle-opened > h2:after,
        #behat .jq-toggle-opened > h3:after {
            content:'';
            font-weight:bold;
        }

        #behat .scenario > ol li,
        #behat .scenario .examples > ol li {
            border-left:none;
        }
    </style>
</head>
<body>
    <div id="behat">
        
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Append snippets option</span>
</h2>
<p>
In order to use definition snippets fully<br />
As a context developer<br />
I need to be able to autoappend snippets to context<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/append_snippets.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }

    private function doSomethingUndefinedWith() {}
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined with $

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples
    And do something undefined with \1

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
      '''
      some pystring
      '''
    And pystring 5:
      '''
      other pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Run feature with failing scenarios</span>
<span class="path">features/annotations/append_snippets.feature:123</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress --append-snippets</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">"<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" file should contain:</span>
<span class="path">FeatureContext::fileShouldContain()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }

    private function doSomethingUndefinedWith() {}

    /**
     * @Given /^do something undefined with \$$/
     */
    public function doSomethingUndefinedWith2()
    {
        throw new PendingException();
    }

    /**
     * @Given /^do something undefined with \\(\d+)$/
     */
    public function doSomethingUndefinedWith3($arg1)
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring (\d+):$/
     */
    public function pystring2($arg1, PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }
}</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Step Arguments</span>
</h2>
<p>
In order to write extended steps<br />
As a feature writer<br />
I need an ability to specify Table &amp; PyString arguments to steps<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/arguments.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingExceptionException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $input;
    private $strings = array();
    private $tables = array();

    public function __construct(array $parameters) {
        $this-&gt;strings[1] = &quot;hello,\n  w\n   o\nr\nl\n   d&quot;;
        $this-&gt;tables[1]  = array(
          array('item1' =&gt; 'super', 'item2' =&gt; 'mega', 'item3' =&gt; 'extra'),
          array('item1' =&gt; 'hyper', 'item2' =&gt; 'mini', 'item3' =&gt; 'XXL'),
        );
    }

    /**
     * @Given /^a pystring:$/
     */
    public function aPystring(PyStringNode $string) {
        $this-&gt;input = $string;
    }

    /**
     * @Given /^a table:$/
     */
    public function aTable(TableNode $table) {
        $this-&gt;input = $table;
    }

    /**
     * @Then /^it must be equals to string (\d+)$/
     */
    public function itMustBeEqualsToString($number) {
        assertEquals($this-&gt;strings[intval($number)], (string) $this-&gt;input);
    }

    /**
     * @Then /^it must be equals to table (\d+)$/
     */
    public function itMustBeEqualsToTable($number) {
        assertEquals($this-&gt;tables[intval($number)], $this-&gt;input-&gt;getHash());
    }

    /**
     * @Given /^I have number2 = (?P&lt;number2&gt;\d+) and number1 = (?P&lt;number1&gt;\d+)$/
     */
    public function iHaveNumberAndNumber($number1, $number2) {
        assertEquals(13, intval($number1));
        assertEquals(243, intval($number2));
    }
}</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">PyStrings</span>
<span class="path">features/annotations/arguments.feature:71</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/pystring.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: PyStrings
  Scenario:
    Given a pystring:
      '''
      hello,
        w
         o
    r
     l
         d
      '''
    Then it must be equals to string 1</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/pystring.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">PyString tokens</span>
<span class="path">features/annotations/arguments.feature:96</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/pystring_tokens.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: PyStrings
  Scenario Outline:
    Given a pystring:
      '''
      &lt;word1&gt;
        w
         o
    r
     &lt;word2&gt;
         d
      '''
    Then it must be equals to string 1

    Examples:
      | word1  | word2 |
      | hello, | l     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/pystring_tokens.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Table tokens</span>
<span class="path">features/annotations/arguments.feature:125</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/table_tokens.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Tables
  Scenario Outline:
    Given a table:
      | item1   | item2   | item3   |
      | &lt;word1&gt; | &lt;word3&gt; | extra   |
      | hyper   | mini    | &lt;word2&gt; |
    Then it must be equals to table 1

    Examples:
      | word1 | word2 | word3 |
      | super | XXL   | mega  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/table_tokens.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Table</span>
<span class="path">features/annotations/arguments.feature:149</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/table.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Tables
  Scenario:
    Given a table:
      | item1 | item2 | item3 |
      | super | mega  | extra |
      | hyper | mini  | XXL   |
    Then it must be equals to table 1</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/table.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Named arguments</span>
<span class="path">features/annotations/arguments.feature:169</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/named_args.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Named arguments
  In order to maintain i18n for steps
  As a step developer
  I need to be able to declare regex with named parameters

  Scenario:
    Given I have number2 = 243 and number1 = 13</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/named_args.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.

1 scenario (1 passed)
1 step (1 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Context consistency</span>
</h2>
<p>
In order to maintain stable behavior tests<br />
As a feature writer<br />
I need a separate context for every scenario/outline<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/context.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/CustomContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext;

class CustomContext extends BehatContext
{
}</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">True "apples story"</span>
<span class="path">features/annotations/context.feature:83</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 2 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 5     | 8      |
      | 2   | 2     | 3      |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..................

5 scenarios (5 passed)
18 steps (18 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">False "apples story"</span>
<span class="path">features/annotations/context.feature:122</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 5 apples

  Scenario: Found more apples
    When I found 10 apples
    Then I should have 10 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 3      |
      | 0   | 5     | 8      |
      | 2   | 2     | 4      |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F..F...F.......F

(::) failed steps (::)

01. Failed asserting that 2 matches expected 5.
    In step `Then I should have 5 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 13 matches expected 10.
    In step `Then I should have 10 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Found more apples'.      # features/apples.feature:13

03. Failed asserting that 1 matches expected 3.
    In step `Then I should have 3 apples'.  # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.       # features/apples.feature:17

04. Failed asserting that 3 matches expected 4.
    In step `Then I should have 4 apples'.  # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.       # features/apples.feature:17

5 scenarios (1 passed, 4 failed)
18 steps (14 passed, 4 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Context parameters</span>
<span class="path">features/annotations/context.feature:179</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  context:
    parameters:
      parameter1: val_one
      parameter2:
        everzet: behat_admin
        avalanche123: behat_admin</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/params.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Context parameters
  In order to run a browser
  As feature runner
  I need to be able to configure behat context

  Scenario: I'm little hungry
    Then context parameter &quot;parameter1&quot; should be equal to &quot;val_one&quot;
    And context parameter &quot;parameter2&quot; should be array with 2 elements</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/params.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Existing custom context class</span>
<span class="path">features/annotations/context.feature:210</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  context:
    class: CustomContext</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/params.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Context parameters
  In order to run a browser
  As feature runner
  I need to be able to configure behat context

  Scenario: I'm little hungry
    Then context parameter &quot;parameter1&quot; should be equal to &quot;val_one&quot;
    And context parameter &quot;parameter2&quot; should be array with 2 elements</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/params.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">UU

1 scenario (1 undefined)
2 steps (2 undefined)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($arg1, $arg2)
    {
        throw new PendingException();
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($arg1, $arg2)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Unexisting custom context class</span>
<span class="path">features/annotations/context.feature:255</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  context:
    class: UnexistentContext</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/params.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Context parameters
  In order to run a browser
  As feature runner
  I need to be able to configure behat context

  Scenario: I'm little hungry
    Then context parameter &quot;parameter1&quot; should be equal to &quot;val_one&quot;
    And context parameter &quot;parameter2&quot; should be array with 2 elements</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/params.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">[RuntimeException]
  Context class &quot;UnexistentContext&quot; not found and can not be instantiated.



behat [--init] [-f|--format=&quot;...&quot;] [--out=&quot;...&quot;] [--lang=&quot;...&quot;] [--[no-]ansi] [--[no-]time] [--[no-]paths] [--[no-]snippets] [--[no-]snippets-paths] [--[no-]multiline] [--[no-]expand] [--story-syntax] [-d|--definitions=&quot;...&quot;] [--name=&quot;...&quot;] [--tags=&quot;...&quot;] [--cache=&quot;...&quot;] [--strict] [--dry-run] [--rerun=&quot;...&quot;] [--append-snippets] [features]</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Step Arguments Transformations</span>
</h2>
<p>
In order to follow DRY<br />
As a feature writer<br />
I need to be able to move common<br />
arguments transformations<br />
into transformation functions<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/definitions_transformations.feature:8</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/User.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
class User
{
    private $username;
    private $age;

    public function __construct($username, $age = 20) {
        $this-&gt;username = $username;
        $this-&gt;age = $age;
    }
    public function getUsername() { return $this-&gt;username; }
    public function getAge() { return $this-&gt;age; }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $user;

    /** @Transform /&quot;([^\ &quot;]+)(?: - (\d+))?&quot; user/ */
    public function createUserFromUsername($username, $age = 20) {
        return new User($username, $age);
    }

    /** @Transform /^table:username,age$/ */
    public function createUserFromTable(TableNode $table) {
        $hash     = $table-&gt;getHash();
        $username = $hash[0]['username'];
        $age      = $hash[0]['age'];

        return new User($username, $age);
    }

    /** @Transform /^(\d+)$/ */
    public function castToNumber($number) {
        return intval($number);
    }

    /**
     * @Given /I am (&quot;.*&quot; user)/
     * @Given /I am user:/
     */
    public function iAmUser(User $user) {
        $this-&gt;user = $user;
    }

    /**
     * @Then /Username must be &quot;([^&quot;]+)&quot;/
     */
    public function usernameMustBe($username) {
        assertEquals($username, $this-&gt;user-&gt;getUsername());
    }

    /**
     * @Then /Age must be (\d+)/
     */
    public function ageMustBe($age) {
        assertEquals($age, $this-&gt;user-&gt;getAge());
        assertInternalType('int', $age);
    }
}</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Simple Arguments Transformations</span>
<span class="path">features/annotations/definitions_transformations.feature:88</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/step_arguments.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Step Arguments
  Scenario:
    Given I am &quot;everzet&quot; user
    Then Username must be &quot;everzet&quot;
    And Age must be 20

  Scenario:
    Given I am &quot;antono - 29&quot; user
    Then Username must be &quot;antono&quot;
    And Age must be 29</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">......

2 scenarios (2 passed)
6 steps (6 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Table Arguments Transformations</span>
<span class="path">features/annotations/definitions_transformations.feature:111</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/table_arguments.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Step Arguments
  Scenario:
    Given I am user:
      | username | age |
      | ever.zet | 22  |
    Then Username must be &quot;ever.zet&quot;
    And Age must be 22

  Scenario:
    Given I am user:
      | username | age |
      | vasiljev | 30  |
    Then Username must be &quot;vasiljev&quot;
    And Age must be 30</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">......

2 scenarios (2 passed)
6 steps (6 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Definitions translations</span>
</h2>
<p>
In order to be able to use predefined steps in native language<br />
As a step definitions developer<br />
I need to be able to write definition translations<br />
</p>

<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">In place XLIFF translations</span>
<span class="path">features/annotations/definitions_translations.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функция: Базовая калькуляция

  Сценарий:
    Допустим Я набрал число 10 на калькуляторе
    И Я набрал число 4 на калькуляторе
    И Я нажал &quot;+&quot;
    То Я должен увидеть на экране 14
    И пользователь &quot;everzet&quot; должен иметь имя &quot;everzet&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\TranslatedContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext implements TranslatedContextInterface
{
    private $numbers = array();
    private $result = 0;

    /**
     * @Given /^I have entered (\d+) into calculator$/
     */
    public function iHaveEnteredIntoCalculator($number) {
        $this-&gt;numbers[] = intval($number);
    }

    /**
     * @Given /^I have clicked &quot;+&quot;$/
     */
    public function iHaveClickedPlus() {
        $this-&gt;result = array_sum($this-&gt;numbers);
    }

    /**
     * @Then /^I should see (\d+) on the screen$/
     */
    public function iShouldSeeOnTheScreen($result) {
        assertEquals(intval($result), $this-&gt;result);
    }

    /** @Transform /&quot;([^&quot;]+)&quot; user/ */
    public static function createUserFromUsername($username) {
        return (Object) array('name' =&gt; $username);
    }

    /**
     * @Then /^the (&quot;[^&quot;]+&quot; user) name should be &quot;([^&quot;]*)&quot;$/
     */
    public function theUserUsername($user, $username) {
        assertEquals($username, $user-&gt;name);
    }

    public function getTranslationResources() {
        return array(__DIR__ . DIRECTORY_SEPARATOR . 'i18n' . DIRECTORY_SEPARATOR . 'ru.xliff');
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/i18n/ru.xliff</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;xliff version=&quot;1.2&quot; xmlns=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;
  &lt;file original=&quot;global&quot; source-language=&quot;en&quot; target-language=&quot;ru&quot; datatype=&quot;plaintext&quot;&gt;
    &lt;header /&gt;
    &lt;body&gt;
      &lt;trans-unit id=&quot;i-have-entered&quot;&gt;
        &lt;source&gt;/^I have entered (\d+) into calculator$/&lt;/source&gt;
        &lt;target&gt;/^Я набрал число (\d+) на калькуляторе$/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-have-clicked-plus&quot;&gt;
        &lt;source&gt;/^I have clicked &quot;+&quot;$/&lt;/source&gt;
        &lt;target&gt;/^Я нажал &quot;([^&quot;]*)&quot;$/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-should-see&quot;&gt;
        &lt;source&gt;/^I should see (\d+) on the screen$/&lt;/source&gt;
        &lt;target&gt;/^Я должен увидеть на экране (\d+)$/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;the-user&quot;&gt;
        &lt;source&gt;/&quot;([^&quot;]+)&quot; user/&lt;/source&gt;
        &lt;target&gt;/пользователь &quot;([^&quot;]+)&quot;/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;the-user-name-should-be&quot;&gt;
        &lt;source&gt;/^the (&quot;[^&quot;]+&quot; user) name should be &quot;([^&quot;]*)&quot;$/&lt;/source&gt;
        &lt;target&gt;/^(пользователь &quot;[^&quot;]+&quot;) должен иметь имя &quot;([^&quot;]*)&quot;$/&lt;/target&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.....

1 scenario (1 passed)
5 steps (5 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">In place YAML translations</span>
<span class="path">features/annotations/definitions_translations.feature:114</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функция: Базовая калькуляция

  Сценарий:
    Допустим Я набрал число 10 на калькуляторе
    И Я набрал число 4 на калькуляторе
    И Я нажал &quot;+&quot;
    То Я должен увидеть на экране 14
    И пользователь &quot;everzet&quot; должен иметь имя &quot;everzet&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\TranslatedContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext implements TranslatedContextInterface
{
    private $numbers = array();
    private $result = 0;

    /**
     * @Given /^I have entered (\d+) into calculator$/
     */
    public function iHaveEnteredIntoCalculator($number) {
        $this-&gt;numbers[] = intval($number);
    }

    /**
     * @Given /^I have clicked &quot;+&quot;$/
     */
    public function iHaveClickedPlus() {
        $this-&gt;result = array_sum($this-&gt;numbers);
    }

    /**
     * @Then /^I should see (\d+) on the screen$/
     */
    public function iShouldSeeOnTheScreen($result) {
        assertEquals(intval($result), $this-&gt;result);
    }

    /** @Transform /&quot;([^&quot;]+)&quot; user/ */
    public static function createUserFromUsername($username) {
        return (Object) array('name' =&gt; $username);
    }

    /**
     * @Then /^the (&quot;[^&quot;]+&quot; user) name should be &quot;([^&quot;]*)&quot;$/
     */
    public function theUserUsername($user, $username) {
        assertEquals($username, $user-&gt;name);
    }

    public function getTranslationResources() {
        return array(__DIR__ . DIRECTORY_SEPARATOR . 'i18n' . DIRECTORY_SEPARATOR . 'ru.yml');
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/i18n/ru.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">'/^I have entered (\d+) into calculator$/':         '/^Я набрал число (\d+) на калькуляторе$/'
'/^I have clicked &quot;+&quot;$/':                           '/^Я нажал &quot;([^&quot;]*)&quot;$/'
'/^I should see (\d+) on the screen$/':             '/^Я должен увидеть на экране (\d+)$/'
'/&quot;([^&quot;]+)&quot; user/':                                 '/пользователь &quot;([^&quot;]+)&quot;/'
'/^the (&quot;[^&quot;]+&quot; user) name should be &quot;([^&quot;]*)&quot;$/':  '/^(пользователь &quot;[^&quot;]+&quot;) должен иметь имя &quot;([^&quot;]*)&quot;$/'</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.....

1 scenario (1 passed)
5 steps (5 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">In place PHP translations</span>
<span class="path">features/annotations/definitions_translations.feature:200</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функция: Базовая калькуляция

  Сценарий:
    Допустим Я набрал число 10 на калькуляторе
    И Я набрал число 4 на калькуляторе
    И Я нажал &quot;+&quot;
    То Я должен увидеть на экране 14
    И пользователь &quot;everzet&quot; должен иметь имя &quot;everzet&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\TranslatedContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext implements TranslatedContextInterface
{
    private $numbers = array();
    private $result = 0;

    /**
     * @Given /^I have entered (\d+) into calculator$/
     */
    public function iHaveEnteredIntoCalculator($number) {
        $this-&gt;numbers[] = intval($number);
    }

    /**
     * @Given /^I have clicked &quot;+&quot;$/
     */
    public function iHaveClickedPlus() {
        $this-&gt;result = array_sum($this-&gt;numbers);
    }

    /**
     * @Then /^I should see (\d+) on the screen$/
     */
    public function iShouldSeeOnTheScreen($result) {
        assertEquals(intval($result), $this-&gt;result);
    }

    /** @Transform /&quot;([^&quot;]+)&quot; user/ */
    public static function createUserFromUsername($username) {
        return (Object) array('name' =&gt; $username);
    }

    /**
     * @Then /^the (&quot;[^&quot;]+&quot; user) name should be &quot;([^&quot;]*)&quot;$/
     */
    public function theUserUsername($user, $username) {
        assertEquals($username, $user-&gt;name);
    }

    public function getTranslationResources() {
        return array(__DIR__ . DIRECTORY_SEPARATOR . 'i18n' . DIRECTORY_SEPARATOR . 'ru.php');
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/i18n/ru.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php return array(
  '/^I have entered (\d+) into calculator$/'        =&gt; '/^Я набрал число (\d+) на калькуляторе$/',
  '/^I have clicked &quot;+&quot;$/'                          =&gt; '/^Я нажал &quot;([^&quot;]*)&quot;$/',
  '/^I should see (\d+) on the screen$/'            =&gt; '/^Я должен увидеть на экране (\d+)$/',
  '/&quot;([^&quot;]+)&quot; user/'                                =&gt; '/пользователь &quot;([^&quot;]+)&quot;/',
  '/^the (&quot;[^&quot;]+&quot; user) name should be &quot;([^&quot;]*)&quot;$/' =&gt; '/^(пользователь &quot;[^&quot;]+&quot;) должен иметь имя &quot;([^&quot;]*)&quot;$/',
);</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.....

1 scenario (1 passed)
5 steps (5 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Dry run</span>
</h2>
<p>
In order to print formatters output without executing steps<br />
As a feature developer<br />
I need to have a --dry-run option<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/dry_run.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    /**
     * @BeforeSuite
     */
    public static function beforeSuite() {
        echo &quot;HOOK: before suite&quot;;
    }

    /**
     * @BeforeScenario
     */
    public static function beforeScenario() {
        echo &quot;HOOK: before scenario&quot;;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        echo &quot;STEP: I have $count apples&quot;;
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        echo &quot;STEP: I ate $count apples&quot;;
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        echo &quot;STEP: I found $count apples&quot;;
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        echo &quot;STEP: I should have $count apples&quot;;
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Just run feature</span>
<span class="path">features/annotations/dry_run.feature:98</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--no-paths features/apples.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">HOOK: before suiteFeature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

HOOK: before scenario  Background:
STEP: I have 3 apples    Given I have 3 apples

  Scenario: I'm little hungry
STEP: I ate 1 apples    When I ate 1 apple
STEP: I should have 3 apples    Then I should have 3 apples

HOOK: before scenario  Scenario: Found more apples
STEP: I have 3 applesSTEP: I found 5 apples    When I found 5 apples
STEP: I should have 8 apples    Then I should have 8 apples

HOOK: before scenario  Scenario: Found more apples
STEP: I have 3 applesSTEP: I found 2 apples    When I found 2 apples
STEP: I should have 5 apples    Then I should have 5 apples

  Scenario Outline: Other situations
HOOK: before scenarioSTEP: I have 3 applesSTEP: I ate 3 applesSTEP: I found 1 applesSTEP: I should have 1 apples    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
HOOK: before scenarioSTEP: I have 3 applesSTEP: I ate 0 applesSTEP: I found 4 applesSTEP: I should have 8 apples      | 0   | 4     | 8      |
HOOK: before scenarioSTEP: I have 3 applesSTEP: I ate 2 applesSTEP: I found 2 applesSTEP: I should have 3 apples      | 2   | 2     | 3      |

6 scenarios (6 passed)
21 steps (21 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Run feature with --dry-run</span>
<span class="path">features/annotations/dry_run.feature:137</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--dry-run features/apples.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()

  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
    Then I should have 3 apples # FeatureContext::iShouldHaveApples()

  Scenario: Found more apples   # features/apples.feature:13
    When I found 5 apples       # FeatureContext::iFoundApples()
    Then I should have 8 apples # FeatureContext::iShouldHaveApples()

  Scenario: Found more apples   # features/apples.feature:17
    When I found 2 apples       # FeatureContext::iFoundApples()
    Then I should have 5 apples # FeatureContext::iShouldHaveApples()

  Scenario Outline: Other situations   # features/apples.feature:21
    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |

6 scenarios (6 skipped)
21 steps (21 skipped)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Failed format</span>
</h2>
<p>
In order to see only failed scenarios paths<br />
As a tester<br />
I need to be able to use 'failed' formatter<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/failed_formatter.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Run feature with failing scenarios</span>
<span class="path">features/annotations/failed_formatter.feature:116</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f failed</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">%PATH%/features/apples.feature:9
%PATH%/features/apples.feature:22</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Format options</span>
</h2>
<p>
In order to optimize behat output<br />
As a tester<br />
I need to be able to set options on behat runner<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/format_options.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">--ansi option</span>
<span class="path">features/annotations/format_options.feature:116</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--ansi</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             [30m# features/apples.feature:6[0m
    [32mGiven I have [0m[32;1m3[0m[32m apples[0m [30m# FeatureContext::iHaveApples()[0m

  Scenario: I'm little hungry   [30m# features/apples.feature:9[0m
    [32mWhen I ate [0m[32;1m1[0m[32m apple[0m          [30m# FeatureContext::iAteApples()[0m
    [31mThen I should have [0m[31;1m3[0m[31m apples[0m [30m# FeatureContext::iShouldHaveApples()[0m
      [31mFailed asserting that 2 matches expected 3.[0m

  Scenario: Found more apples   [30m# features/apples.feature:13[0m
    [32mWhen I found [0m[32;1m5[0m[32m apples[0m       [30m# FeatureContext::iFoundApples()[0m
    [32mThen I should have [0m[32;1m8[0m[32m apples[0m [30m# FeatureContext::iShouldHaveApples()[0m

  Scenario: Found more apples   [30m# features/apples.feature:17[0m
    [32mWhen I found [0m[32;1m2[0m[32m apples[0m       [30m# FeatureContext::iFoundApples()[0m
    [32mThen I should have [0m[32;1m5[0m[32m apples[0m [30m# FeatureContext::iShouldHaveApples()[0m
    [33mAnd do something undefined[0m

  Scenario Outline: Other situations   [30m# features/apples.feature:22[0m
    [36mWhen I ate [0m[36;1m&lt;ate&gt;[0m[36m apples[0m            [30m# FeatureContext::iAteApples()[0m
    [36mAnd I found [0m[36;1m&lt;found&gt;[0m[36m apples[0m         [30m# FeatureContext::iFoundApples()[0m
    [36mThen I should have [0m[36;1m&lt;result&gt;[0m[36m apples[0m [30m# FeatureContext::iShouldHaveApples()[0m

    Examples:
[36m[0m[36m      [0m[36m[0m|[36m[0m[36m ate [0m[36m[0m|[36m[0m[36m found [0m[36m[0m|[36m[0m[36m result [0m[36m[0m|[36m[0m
[32m[0m[32m      [0m[32m[0m|[32m[0m[32m 3   [0m[32m[0m|[32m[0m[32m 1     [0m[32m[0m|[32m[0m[32m 1      [0m[32m[0m|[32m[0m
[31m[0m[31m      [0m[31m[0m|[31m[0m[31m 0   [0m[31m[0m|[31m[0m[31m 4     [0m[31m[0m|[31m[0m[31m 8      [0m[31m[0m|[31m[0m
        [31mFailed asserting that 7 matches expected 8.[0m
[32m[0m[32m      [0m[32m[0m|[32m[0m[32m 2   [0m[32m[0m|[32m[0m[32m 2     [0m[32m[0m|[32m[0m[32m 3      [0m[32m[0m|[32m[0m

  Scenario: Multilines                 [30m# features/apples.feature:33[0m
    [33mGiven pystring:[0m
[33m      '''
      some pystring
      '''[0m
    [33mAnd table:[0m
[33m      | col1 | col2 |
      | val1 | val2 |[0m

7 scenarios ([32m3 passed[0m, [33m2 undefined[0m, [31m2 failed[0m)
25 steps ([32m20 passed[0m, [33m3 undefined[0m, [31m2 failed[0m)

[33mYou can implement step definitions for undefined steps with these snippets:[0m

[33m    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }[0m

[33m    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }[0m

[33m    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }[0m</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">--no-ansi option</span>
<span class="path">features/annotations/format_options.feature:193</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--no-ansi</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()

  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
    Then I should have 3 apples # FeatureContext::iShouldHaveApples()
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples   # features/apples.feature:13
    When I found 5 apples       # FeatureContext::iFoundApples()
    Then I should have 8 apples # FeatureContext::iShouldHaveApples()

  Scenario: Found more apples   # features/apples.feature:17
    When I found 2 apples       # FeatureContext::iFoundApples()
    Then I should have 5 apples # FeatureContext::iShouldHaveApples()
    And do something undefined

  Scenario Outline: Other situations   # features/apples.feature:22
    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines                 # features/apples.feature:33
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">--no-paths option</span>
<span class="path">features/annotations/format_options.feature:270</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">--no-snippets option</span>
<span class="path">features/annotations/format_options.feature:347</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--no-snippets</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()

  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
    Then I should have 3 apples # FeatureContext::iShouldHaveApples()
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples   # features/apples.feature:13
    When I found 5 apples       # FeatureContext::iFoundApples()
    Then I should have 8 apples # FeatureContext::iShouldHaveApples()

  Scenario: Found more apples   # features/apples.feature:17
    When I found 2 apples       # FeatureContext::iFoundApples()
    Then I should have 5 apples # FeatureContext::iShouldHaveApples()
    And do something undefined

  Scenario Outline: Other situations   # features/apples.feature:22
    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines                 # features/apples.feature:33
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">--snippets-paths option</span>
<span class="path">features/annotations/format_options.feature:398</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--snippets-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()

  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
    Then I should have 3 apples # FeatureContext::iShouldHaveApples()
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples   # features/apples.feature:13
    When I found 5 apples       # FeatureContext::iFoundApples()
    Then I should have 8 apples # FeatureContext::iShouldHaveApples()

  Scenario: Found more apples   # features/apples.feature:17
    When I found 2 apples       # FeatureContext::iFoundApples()
    Then I should have 5 apples # FeatureContext::iShouldHaveApples()
    And do something undefined

  Scenario Outline: Other situations   # features/apples.feature:22
    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines                 # features/apples.feature:33
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * And do something undefined # features/apples.feature:20
     *
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * Given pystring: # features/apples.feature:34
     *
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * And table: # features/apples.feature:38
     *
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">--expand option</span>
<span class="path">features/annotations/format_options.feature:481</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--expand</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()

  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
    Then I should have 3 apples # FeatureContext::iShouldHaveApples()
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples   # features/apples.feature:13
    When I found 5 apples       # FeatureContext::iFoundApples()
    Then I should have 8 apples # FeatureContext::iShouldHaveApples()

  Scenario: Found more apples   # features/apples.feature:17
    When I found 2 apples       # FeatureContext::iFoundApples()
    Then I should have 5 apples # FeatureContext::iShouldHaveApples()
    And do something undefined

  Scenario Outline: Other situations   # features/apples.feature:22
    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

      Examples: | 3 | 1 | 1 |
        When I ate 3 apples            # FeatureContext::iAteApples()
        And I found 1 apples           # FeatureContext::iFoundApples()
        Then I should have 1 apples    # FeatureContext::iShouldHaveApples()

      Examples: | 0 | 4 | 8 |
        When I ate 0 apples            # FeatureContext::iAteApples()
        And I found 4 apples           # FeatureContext::iFoundApples()
        Then I should have 8 apples    # FeatureContext::iShouldHaveApples()
          Failed asserting that 7 matches expected 8.

      Examples: | 2 | 2 | 3 |
        When I ate 2 apples            # FeatureContext::iAteApples()
        And I found 2 apples           # FeatureContext::iFoundApples()
        Then I should have 3 apples    # FeatureContext::iShouldHaveApples()

  Scenario: Multilines                 # features/apples.feature:33
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">--no-multiline option</span>
<span class="path">features/annotations/format_options.feature:567</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--no-multiline</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()

  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
    Then I should have 3 apples # FeatureContext::iShouldHaveApples()
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples   # features/apples.feature:13
    When I found 5 apples       # FeatureContext::iFoundApples()
    Then I should have 8 apples # FeatureContext::iShouldHaveApples()

  Scenario: Found more apples   # features/apples.feature:17
    When I found 2 apples       # FeatureContext::iFoundApples()
    Then I should have 5 apples # FeatureContext::iShouldHaveApples()
    And do something undefined

  Scenario Outline: Other situations   # features/apples.feature:22
    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines                 # features/apples.feature:33
    Given pystring:
    And table:

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">hooks</span>
</h2>
<p>
In order to hook into Behat testing process<br />
As a tester<br />
I need to be able to write hooks<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/hooks.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  context:
    parameters:
      before_suite:   BEFORE ANY SUITE
      after_suite:    AFTER ANY SUITE
      before_feature: BEFORE EVERY FEATURE
      after_feature:  AFTER EVERY FEATURE</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $number;

    /**
     * @BeforeSuite
     */
    static public function doSomethingBeforeSuite($event) {
        $params = $event-&gt;getContextParameters();
        echo &quot;= do something &quot;.$params['before_suite'].&quot;\n&quot;;
    }

    /**
     * @BeforeFeature
     */
    static public function doSomethingBeforeFeature($event) {
        $params = $event-&gt;getContextParameters();
        echo &quot;= do something &quot;.$params['before_feature'].&quot;\n&quot;;
    }

    /**
     * @AfterFeature
     */
    static public function doSomethingAfterFeature($event) {
        $params = $event-&gt;getContextParameters();
        echo &quot;= do something &quot;.$params['after_feature'].&quot;\n&quot;;
    }

    /**
     * @BeforeFeature @someFeature
     */
    static public function doSomethingBeforeSomeFeature($event) {
        echo &quot;= do something before SOME feature\n&quot;;
    }

    /**
     * @AfterFeature @someFeature
     */
    static public function doSomethingAfterSomeFeature($event) {
        echo &quot;= do something after SOME feature\n&quot;;
    }

    /**
     * @AfterSuite
     */
    static public function doSomethingAfterSuite($event) {
        $params = $event-&gt;getContextParameters();
        echo &quot;= do something &quot;.$params['after_suite'].&quot;\n&quot;;
    }

    /**
     * @BeforeScenario
     */
    public function beforeScenario($event) {
        $this-&gt;number = 50;
    }

    /**
     * @BeforeScenario 130
     */
    public function beforeScenario130($event) {
        $this-&gt;number = 130;
    }

    /**
     * @BeforeScenario @thirty
     */
    public function beforeScenarioThirty($event) {
        $this-&gt;number = 30;
    }

    /**
     * @AfterStep @100
     */
    public function afterStep100($event) {
        $this-&gt;number = 100;
    }

    /**
     * @Given /^I have entered (\d+)$/
     */
    public function iHaveEntered($number) {
        $this-&gt;number = intval($number);
    }

    /**
     * @Then /^I must have (\d+)$/
     */
    public function iMustHave($number) {
        assertEquals(intval($number), $this-&gt;number);
    }
}</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/hooks.feature:126</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/test.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature:
  Scenario:
    Then I must have 50
  Scenario:
    Given I have entered 12
    Then I must have 12

  @thirty
  Scenario:
    Given I must have 30
    When I have entered 23
    Then I must have 23
  @100 @thirty
  Scenario:
    Given I must have 30
    When I have entered 1
    Then I must have 100

  Scenario: 130
    Given I must have 130</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">= do something BEFORE ANY SUITE
= do something BEFORE EVERY FEATURE
Feature:

  Scenario:             # features/test.feature:2
    Then I must have 50 # FeatureContext::iMustHave()

  Scenario:                 # features/test.feature:4
    Given I have entered 12 # FeatureContext::iHaveEntered()
    Then I must have 12     # FeatureContext::iMustHave()

  @thirty
  Scenario:                 # features/test.feature:9
    Given I must have 30    # FeatureContext::iMustHave()
    When I have entered 23  # FeatureContext::iHaveEntered()
    Then I must have 23     # FeatureContext::iMustHave()

  @100 @thirty
  Scenario:                 # features/test.feature:14
    Given I must have 30    # FeatureContext::iMustHave()
    When I have entered 1   # FeatureContext::iHaveEntered()
    Then I must have 100    # FeatureContext::iMustHave()

  Scenario: 130             # features/test.feature:19
    Given I must have 130   # FeatureContext::iMustHave()

= do something AFTER EVERY FEATURE
= do something AFTER ANY SUITE
5 scenarios (5 passed)
10 steps (10 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Filter features</span>
<span class="path">features/annotations/hooks.feature:185</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/1-one.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature:
  Scenario:
    Then I must have 50

  Scenario:
    Given I have entered 12
    Then I must have 12

  Scenario: 130
    Given I must have 130</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/2-two.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">@someFeature
Feature:
  Scenario: 130
    Given I must have 130</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">= do something BEFORE ANY SUITE
= do something BEFORE EVERY FEATURE
Feature:

  Scenario:             # features/1-one.feature:2
    Then I must have 50 # FeatureContext::iMustHave()

  Scenario:                 # features/1-one.feature:5
    Given I have entered 12 # FeatureContext::iHaveEntered()
    Then I must have 12     # FeatureContext::iMustHave()

  Scenario: 130             # features/1-one.feature:9
    Given I must have 130   # FeatureContext::iMustHave()

= do something AFTER EVERY FEATURE
= do something BEFORE EVERY FEATURE
= do something before SOME feature
@someFeature
Feature:

  Scenario: 130             # features/2-two.feature:3
    Given I must have 130   # FeatureContext::iMustHave()

= do something AFTER EVERY FEATURE
= do something after SOME feature
= do something AFTER ANY SUITE
4 scenarios (4 passed)
5 steps (5 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Background step hooks</span>
<span class="path">features/annotations/hooks.feature:239</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/background.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature:
  Background:
    Given I must have 50

  Scenario:
    Given I have entered 12
    Then I must have 12</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">= do something BEFORE ANY SUITE
= do something BEFORE EVERY FEATURE
Feature:

  Background:            # features/background.feature:2
    Given I must have 50 # FeatureContext::iMustHave()

  Scenario:                 # features/background.feature:5
    Given I have entered 12 # FeatureContext::iHaveEntered()
    Then I must have 12     # FeatureContext::iMustHave()

= do something AFTER EVERY FEATURE
= do something AFTER ANY SUITE
1 scenario (1 passed)
3 steps (3 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">HTML Formatter</span>
</h2>
<p>
In order to print features<br />
As a feature writer<br />
I need to have an html formatter<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/html_format.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $value = 0;

    /**
     * @Given /I have entered (\d+)/
     */
    public function iHaveEntered($number) {
        $this-&gt;value = $number;
    }

    /**
     * @Then /I must have (\d+)/
     */
    public function iMustHave($number) {
        assertEquals($number, $this-&gt;value);
    }

    /**
     * @When /I (add|subtract) the value (\d+)/
     */
    public function iAddOrSubstractValue($operation, $number) {
        switch ($operation) {
            case 'add':
                $this-&gt;value += $number;
                break;
            case 'subtract':
                $this-&gt;value -= $number;
                break;
        }
    }
}</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple parameters</span>
<span class="path">features/annotations/html_format.feature:56</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Adding
    Then I must have 10
    And I add the value 6
    Then I must have 16

  Scenario: Subtracting
    Then I must have 10
    And I subtract the value 6
    Then I must have 4</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f html</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;feature&quot;&gt;
&lt;h2&gt;
&lt;span class=&quot;keyword&quot;&gt;Feature: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;World consistency&lt;/span&gt;
&lt;/h2&gt;
&lt;p&gt;
In order to maintain stable behaviors&lt;br /&gt;
As a features developer&lt;br /&gt;
I want, that &amp;quot;World&amp;quot; flushes between scenarios&lt;br /&gt;
&lt;/p&gt;

&lt;div class=&quot;scenario background&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Background: &lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:6&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Given &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I have entered &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iHaveEntered()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;scenario&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Adding&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:9&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;add&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;6&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iAddOrSubstractValue()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;16&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;scenario&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Subtracting&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:14&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;subtract&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;6&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iAddOrSubstractValue()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;4&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Scenario outline examples table</span>
<span class="path">features/annotations/html_format.feature:170</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario Outline: Adding
    Then I must have 10
    And I add the value &lt;n&gt;
    Then I must have &lt;total&gt;

    Examples:
      | n  | total |
      | 5  | 15    |
      | 10 | 21    |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f html</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;scenario outline&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario Outline: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Adding&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:9&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I add the value &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;n&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iAddOrSubstractValue()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;total&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;examples&quot;&gt;
&lt;h4&gt;Examples&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;skipped&quot;&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;total&lt;/td&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;passed&quot;&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;failed&quot;&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;failed exception&quot;&gt;
&lt;td colspan=&quot;2&quot;&gt;
&lt;pre class=&quot;backtrace&quot;&gt;Failed asserting that 20 matches expected '21'.&lt;/pre&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Scenario outline examples expanded</span>
<span class="path">features/annotations/html_format.feature:252</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario Outline: Adding
    Then I must have 10
    And I add the value &lt;n&gt;
    Then I must have &lt;total&gt;

    Examples:
      | n  | total |
      | 5  | 15    |
      | 10 | 21    |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f html --expand</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;scenario outline&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario Outline: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Adding&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:9&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I add the value &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;n&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iAddOrSubstractValue()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;total&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;examples&quot;&gt;
&lt;h4&gt;Examples: &lt;span&gt;5&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;&lt;/h4&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;add&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;5&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iAddOrSubstractValue()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;15&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Examples: &lt;span&gt;10&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;&lt;/h4&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;add&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iAddOrSubstractValue()&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;failed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;failed_param&quot;&gt;21&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;FeatureContext::iMustHave()&lt;/span&gt;
&lt;/div&gt;
&lt;pre class=&quot;backtrace&quot;&gt;Failed asserting that 20 matches expected '21'.&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Links to step definitions relative to a remote base</span>
<span class="path">features/annotations/html_format.feature:367</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  paths:
    features:               %behat.paths.base%/features
    bootstrap:              %behat.paths.base%/features/bootstrap
  formatter:
    name:                   'html'
    parameters:
      paths_base_url:        'http://localhost/'</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Scenario: Nothing
    Given I have entered 10</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-c behat.yml -f html</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;scenario&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Nothing&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:6&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Given &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I have entered &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;&lt;a href=&quot;http://localhost/features/bootstrap/FeatureContext.php&quot;&gt;FeatureContext::iHaveEntered()&lt;/a&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">I18n</span>
</h2>
<p>
In order to write i18nal features<br />
As a feature writer<br />
I need to have i18n support<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/i18n.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $value = 0;

    /**
     * @Given /Я ввел (\d+)/
     */
    public function iHaveEntered($number) {
        $this-&gt;value = intval($number);
    }

    /**
     * @Then /Я должен иметь (\d+)/
     */
    public function iShouldHave($number) {
        assertEquals(intval($number), $this-&gt;value);
    }

    /**
     * @When /Я добавлю (\d+)/
     */
    public function iAdd($number) {
        $this-&gt;value += intval($number);
    }

    /**
     * @When /^Что-то еще не сделано$/
     */
    public function somethingNotDone() {
        throw new PendingException();
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Постоянство мира
  Чтобы поддерживать стабильными тесты
  Как разработчик функционала
  Я хочу чтобы Мир сбрасывался между сценариями

  Предыстория:
    Если Я ввел 10

  Сценарий: Неопределен
    То Я должен иметь 10
    И Добавить &quot;нормальное&quot; число
    То Я должен иметь 10

  Сценарий: В ожидании
    То Я должен иметь 10
    И Что-то еще не сделано
    То Я должен иметь 10

  Сценарий: Провален
    Если Я добавлю 4
    То Я должен иметь 13

  Структура сценария: Пройдено и Провалено
    Допустим Я должен иметь 10
    Если Я добавлю &lt;значение&gt;
    То Я должен иметь &lt;результат&gt;

    Примеры:
      | значение | результат |
      |  5       | 16        |
      |  10      | 20        |
      |  23      | 32        |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Pretty</span>
<span class="path">features/annotations/i18n.feature:92</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --lang=ru</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Функционал: Постоянство мира
  Чтобы поддерживать стабильными тесты
  Как разработчик функционала
  Я хочу чтобы Мир сбрасывался между сценариями

  Предыстория:     # features/World.feature:7
    Если Я ввел 10 # FeatureContext::iHaveEntered()

  Сценарий: Неопределен           # features/World.feature:10
    То Я должен иметь 10          # FeatureContext::iShouldHave()
    И Добавить &quot;нормальное&quot; число
    То Я должен иметь 10          # FeatureContext::iShouldHave()

  Сценарий: В ожидании            # features/World.feature:15
    То Я должен иметь 10          # FeatureContext::iShouldHave()
    И Что-то еще не сделано       # FeatureContext::somethingNotDone()
      TODO: write pending definition
    То Я должен иметь 10          # FeatureContext::iShouldHave()

  Сценарий: Провален              # features/World.feature:20
    Если Я добавлю 4              # FeatureContext::iAdd()
    То Я должен иметь 13          # FeatureContext::iShouldHave()
      Failed asserting that 14 matches expected 13.

  Структура сценария: Пройдено и Провалено # features/World.feature:24
    Допустим Я должен иметь 10             # FeatureContext::iShouldHave()
    Если Я добавлю &lt;значение&gt;              # FeatureContext::iAdd()
    То Я должен иметь &lt;результат&gt;          # FeatureContext::iShouldHave()

    Примеры:
      | значение | результат |
      | 5        | 16        |
        Failed asserting that 15 matches expected 16.
      | 10       | 20        |
      | 23       | 32        |
        Failed asserting that 33 matches expected 32.

6 сценариев (1 пройден, 1 в ожидании, 1 не определен, 3 провалено)
23 шага (16 пройдено, 2 пропущено, 1 в ожидании, 1 не определен, 3 провалено)

Вы можете реализовать определения для новых шагов с помощью этих шаблонов:

    /**
     * @Given /^Добавить &quot;([^&quot;]*)&quot; число$/
     */
    public function dobavitChislo($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Progress</span>
<span class="path">features/annotations/i18n.feature:147</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress --lang=ru</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..U-..P-..F...F.......F

(::) проваленные шаги (::)

01. Failed asserting that 14 matches expected 13.
    In step `То Я должен иметь 13'. # FeatureContext::iShouldHave()
    From scenario `Провален'.       # features/World.feature:20

02. Failed asserting that 15 matches expected 16.
    In step `То Я должен иметь 16'.       # FeatureContext::iShouldHave()
    From scenario `Пройдено и Провалено'. # features/World.feature:24

03. Failed asserting that 33 matches expected 32.
    In step `То Я должен иметь 32'.       # FeatureContext::iShouldHave()
    From scenario `Пройдено и Провалено'. # features/World.feature:24

(::) шаги в ожидании (::)

01. TODO: write pending definition
    In step `И Что-то еще не сделано'.    # FeatureContext::somethingNotDone()
    From scenario `В ожидании'.           # features/World.feature:15

6 сценариев (1 пройден, 1 в ожидании, 1 не определен, 3 провалено)
23 шага (16 пройдено, 2 пропущено, 1 в ожидании, 1 не определен, 3 провалено)

Вы можете реализовать определения для новых шагов с помощью этих шаблонов:

    /**
     * @Given /^Добавить &quot;([^&quot;]*)&quot; число$/
     */
    public function dobavitChislo($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Progress with unexisting locale</span>
<span class="path">features/annotations/i18n.feature:187</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress --lang=xx</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..U-..P-..F...F.......F

(::) failed steps (::)

01. Failed asserting that 14 matches expected 13.
    In step `То Я должен иметь 13'. # FeatureContext::iShouldHave()
    From scenario `Провален'.       # features/World.feature:20

02. Failed asserting that 15 matches expected 16.
    In step `То Я должен иметь 16'.       # FeatureContext::iShouldHave()
    From scenario `Пройдено и Провалено'. # features/World.feature:24

03. Failed asserting that 33 matches expected 32.
    In step `То Я должен иметь 32'.       # FeatureContext::iShouldHave()
    From scenario `Пройдено и Провалено'. # features/World.feature:24

(::) pending steps (::)

01. TODO: write pending definition
    In step `И Что-то еще не сделано'.    # FeatureContext::somethingNotDone()
    From scenario `В ожидании'.           # features/World.feature:15

6 scenarios (1 passed, 1 pending, 1 undefined, 3 failed)
23 steps (16 passed, 2 skipped, 1 pending, 1 undefined, 3 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^Добавить &quot;([^&quot;]*)&quot; число$/
     */
    public function dobavitChislo($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Progress with unexisting locale</span>
<span class="path">features/annotations/i18n.feature:227</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress --lang=xx</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..U-..P-..F...F.......F

(::) failed steps (::)

01. Failed asserting that 14 matches expected 13.
    In step `То Я должен иметь 13'. # FeatureContext::iShouldHave()
    From scenario `Провален'.       # features/World.feature:20

02. Failed asserting that 15 matches expected 16.
    In step `То Я должен иметь 16'.       # FeatureContext::iShouldHave()
    From scenario `Пройдено и Провалено'. # features/World.feature:24

03. Failed asserting that 33 matches expected 32.
    In step `То Я должен иметь 32'.       # FeatureContext::iShouldHave()
    From scenario `Пройдено и Провалено'. # features/World.feature:24

(::) pending steps (::)

01. TODO: write pending definition
    In step `И Что-то еще не сделано'.    # FeatureContext::somethingNotDone()
    From scenario `В ожидании'.           # features/World.feature:15

6 scenarios (1 passed, 1 pending, 1 undefined, 3 failed)
23 steps (16 passed, 2 skipped, 1 pending, 1 undefined, 3 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^Добавить &quot;([^&quot;]*)&quot; число$/
     */
    public function dobavitChislo($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Init</span>
</h2>
<p>
In order to be able to start fast<br />
As a feature developer<br />
I need to be able to init Behat path structure fast<br />
</p>

<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Simple init</span>
<span class="path">features/annotations/init.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I am in the "<strong class="passed_param">init_test</strong>" path</span>
<span class="path">FeatureContext::iAmInThePath()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--init</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">+d features - place your *.feature files here
+d features/bootstrap - place bootstrap scripts and static files here
+f features/bootstrap/FeatureContext.php - place your feature related code here</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">file "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" should exist</span>
<span class="path">FeatureContext::fileShouldExist()</span>
</div>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Custom paths</span>
<span class="path">features/annotations/init.feature:17</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I am in the "<strong class="passed_param">init_test2</strong>" path</span>
<span class="path">FeatureContext::iAmInThePath()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  paths:
    features:   scenarios
    bootstrap:  supp</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--init</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">+d scenarios - place your *.feature files here
+d supp - place bootstrap scripts and static files here
+f supp/FeatureContext.php - place your feature related code here</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">file "<strong class="passed_param">supp/FeatureContext.php</strong>" should exist</span>
<span class="path">FeatureContext::fileShouldExist()</span>
</div>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Multipage HTML Formatter</span>
</h2>
<p>
In order to browse large test suites<br />
As a feature writer<br />
I need to have a multipage html formatter with index<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/multipage_html_format.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext;

class FeatureContext extends BehatContext
{
    private $value = 0;

    /**
     * @Given /I have entered (\d+)/
     */
    public function iHaveEntered($number) {
        $this-&gt;value = $number;
    }

    /**
     * @Then /I must have (\d+)/
     */
    public function iMustHave($number) {
        assertEquals($number, $this-&gt;value);
    }

    /**
     * @When /I (add|subtract) the value (\d+)/
     */
    public function iAddOrSubstractValue($operation, $number) {
        switch ($operation) {
            case 'add':
                $this-&gt;value += $number;
                break;
            case 'subtract':
                $this-&gt;value -= $number;
                break;
        }
    }
}</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Creates multiple files</span>
<span class="path">features/annotations/multipage_html_format.feature:53</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Adding
    Then I must have 10
    And I add the value 6
    Then I must have 16</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f multi</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="undefined">
<div class="step">
<span class="keyword">And </span>
<span class="text">"index.html" should exist</span>
</div>
<div class="snippet"><pre>    /**
     * @Given /^&quot;([^&quot;]*)&quot; should exist$/
     */
    public function shouldExist($arg1)
    {
        throw new PendingException();
    }</pre></div>
</li>
<li class="undefined">
<div class="step">
<span class="keyword">And </span>
<span class="text">"failures.html" should not exist</span>
</div>
<div class="snippet"><pre>    /**
     * @Given /^&quot;([^&quot;]*)&quot; should not exist$/
     */
    public function shouldNotExist($arg1)
    {
        throw new PendingException();
    }</pre></div>
</li>
<li class="undefined">
<div class="step">
<span class="keyword">And </span>
<span class="text">"pending.html" should not exist</span>
</div>
<div class="snippet"><pre>    /**
     * @Given /^&quot;([^&quot;]*)&quot; should not exist$/
     */
    public function shouldNotExist($arg1)
    {
        throw new PendingException();
    }</pre></div>
</li>
<li class="undefined">
<div class="step">
<span class="keyword">And </span>
<span class="text">"undefined.html" should not exist</span>
</div>
<div class="snippet"><pre>    /**
     * @Given /^&quot;([^&quot;]*)&quot; should not exist$/
     */
    public function shouldNotExist($arg1)
    {
        throw new PendingException();
    }</pre></div>
</li>
<li class="undefined">
<div class="step">
<span class="keyword">And </span>
<span class="text">"World.feature.html" should exist</span>
</div>
<div class="snippet"><pre>    /**
     * @Given /^&quot;([^&quot;]*)&quot; should exist$/
     */
    public function shouldExist($arg1)
    {
        throw new PendingException();
    }</pre></div>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Multiple formats</span>
</h2>
<p>
In order to use multiple formats<br />
As a tester<br />
I need to be able to specify multiple output formats to behat<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/multiple_formats.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">2 formats, default output</span>
<span class="path">features/annotations/multiple_formats.feature:116</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty,progress --no-multiline</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()
.
  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
.    Then I should have 3 apples # FeatureContext::iShouldHaveApples()
      Failed asserting that 2 matches expected 3.
F
  Scenario: Found more apples   # features/apples.feature:13
.    When I found 5 apples       # FeatureContext::iFoundApples()
.    Then I should have 8 apples # FeatureContext::iShouldHaveApples()
.
  Scenario: Found more apples   # features/apples.feature:17
.    When I found 2 apples       # FeatureContext::iFoundApples()
.    Then I should have 5 apples # FeatureContext::iShouldHaveApples()
.    And do something undefined
U
  Scenario Outline: Other situations   # features/apples.feature:22
....    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
...F      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
....      | 2   | 2     | 3      |

  Scenario: Multilines                 # features/apples.feature:33
.    Given pystring:
U    And table:
U
7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }



(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 7 matches expected 8.
    In step `Then I should have 8 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.      # features/apples.feature:22

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">2 formats, same output</span>
<span class="path">features/annotations/multiple_formats.feature:229</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty,progress --out=, --no-multiline</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:             # features/apples.feature:6
    Given I have 3 apples # FeatureContext::iHaveApples()
.
  Scenario: I'm little hungry   # features/apples.feature:9
    When I ate 1 apple          # FeatureContext::iAteApples()
.    Then I should have 3 apples # FeatureContext::iShouldHaveApples()
      Failed asserting that 2 matches expected 3.
F
  Scenario: Found more apples   # features/apples.feature:13
.    When I found 5 apples       # FeatureContext::iFoundApples()
.    Then I should have 8 apples # FeatureContext::iShouldHaveApples()
.
  Scenario: Found more apples   # features/apples.feature:17
.    When I found 2 apples       # FeatureContext::iFoundApples()
.    Then I should have 5 apples # FeatureContext::iShouldHaveApples()
.    And do something undefined
U
  Scenario Outline: Other situations   # features/apples.feature:22
....    When I ate &lt;ate&gt; apples            # FeatureContext::iAteApples()
    And I found &lt;found&gt; apples         # FeatureContext::iFoundApples()
    Then I should have &lt;result&gt; apples # FeatureContext::iShouldHaveApples()

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
...F      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
....      | 2   | 2     | 3      |

  Scenario: Multilines                 # features/apples.feature:33
.    Given pystring:
U    And table:
U
7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }



(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 7 matches expected 8.
    In step `Then I should have 8 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.      # features/apples.feature:22

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">2 formats, write first to file</span>
<span class="path">features/annotations/multiple_formats.feature:342</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty,progress --out=apples.pretty, --no-multiline --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F......U.......F.....UU

(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 7 matches expected 8.
    In step `Then I should have 8 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.      # features/apples.feature:22

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">"<strong class="passed_param">apples.pretty</strong>" file should contain:</span>
<span class="path">FeatureContext::fileShouldContain()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
    And table:

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">2 formats, write second to file</span>
<span class="path">features/annotations/multiple_formats.feature:457</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty,progress --out=,apples.progress --no-multiline --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
    And table:

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">"<strong class="passed_param">apples.progress</strong>" file should contain:</span>
<span class="path">FeatureContext::fileShouldContain()</span>
</div>
<pre class="argument">..F......U.......F.....UU

(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 7 matches expected 8.
    In step `Then I should have 8 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.      # features/apples.feature:22

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">2 formats, write both to files</span>
<span class="path">features/annotations/multiple_formats.feature:572</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty,progress --out=app.pretty,app.progress --no-multiline --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument"></pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">"<strong class="passed_param">app.pretty</strong>" file should contain:</span>
<span class="path">FeatureContext::fileShouldContain()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples
      Failed asserting that 2 matches expected 3.

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
        Failed asserting that 7 matches expected 8.
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
    And table:

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">"<strong class="passed_param">app.progress</strong>" file should contain:</span>
<span class="path">FeatureContext::fileShouldContain()</span>
</div>
<pre class="argument">..F......U.......F.....UU

(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 7 matches expected 8.
    In step `Then I should have 8 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.      # features/apples.feature:22

7 scenarios (3 passed, 2 undefined, 2 failed)
25 steps (20 passed, 3 undefined, 2 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Name filters</span>
</h2>
<p>
In order to run only needed features<br />
As a Behat user<br />
I need to Behat support features &amp; scenario/outline names filtering<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/name_filters.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    /**
     * @Given /^Some slow step N(\d+)$/
     */
    public function someSlowStepN($num) {}

    /**
     * @Given /^Some normal step N(\d+)$/
     */
    public function someNormalStepN($num) {}

    /**
     * @Given /^Some fast step N(\d+)$/
     */
    public function someFastStepN($num) {}
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature1.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:
    Given Some slow step N11

  Scenario: First Scenario
    Given Some slow step N12
    And Some normal step N13

  Scenario: Second Scenario
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature2.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Second Feature

  Background:
    Given Some normal step N21

  Scenario: First Scenario
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">First Name</span>
<span class="path">features/annotations/name_filters.feature:66</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --name First</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:                # features/feature1.feature:3
    Given Some slow step N11 # FeatureContext::someSlowStepN()

  Scenario: First Scenario   # features/feature1.feature:6
    Given Some slow step N12 # FeatureContext::someSlowStepN()
    And Some normal step N13 # FeatureContext::someNormalStepN()

  Scenario: Second Scenario  # features/feature1.feature:10
    Given Some fast step N14 # FeatureContext::someFastStepN()

Feature: Second Feature

  Background:                  # features/feature2.feature:3
    Given Some normal step N21 # FeatureContext::someNormalStepN()

  Scenario: First Scenario     # features/feature2.feature:6
    Given Some slow step N22   # FeatureContext::someSlowStepN()
    And Some fast step N23     # FeatureContext::someFastStepN()

3 scenarios (3 passed)
8 steps (8 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Second Name</span>
<span class="path">features/annotations/name_filters.feature:95</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --name 'Second Scenario'</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:                # features/feature1.feature:3
    Given Some slow step N11 # FeatureContext::someSlowStepN()

  Scenario: Second Scenario  # features/feature1.feature:10
    Given Some fast step N14 # FeatureContext::someFastStepN()

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">RegEx</span>
<span class="path">features/annotations/name_filters.feature:111</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --name '/nd Scenario$/'</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:                # features/feature1.feature:3
    Given Some slow step N11 # FeatureContext::someSlowStepN()

  Scenario: Second Scenario  # features/feature1.feature:10
    Given Some fast step N14 # FeatureContext::someFastStepN()

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Scenario Outlines</span>
</h2>
<p>
In order to write complex features<br />
As a features writer<br />
I want to write scenario outlines<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/outlines.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $result;
    private $numbers;

    /**
     * @Given /^I have basic calculator$/
     */
     public function iHaveBasicCalculator() {
        $this-&gt;result = 0;
        $this-&gt;numbers = array();
     }

     /**
      * @Given /^I have entered (\d+)$/
      */
     public function iHaveEntered($number) {
        $this-&gt;numbers[] = intval($number);
     }

     /**
      * @When /^I add$/
      */
     public function iAdd() {
         foreach ($this-&gt;numbers as $number) {
             $this-&gt;result += $number;
         }
         $this-&gt;numbers = array();
     }

     /**
      * @When /^I sub$/
      */
     public function iSub() {
         $this-&gt;result = array_shift($this-&gt;numbers);
         foreach ($this-&gt;numbers as $number) {
             $this-&gt;result -= $number;
         }
         $this-&gt;numbers = array();
     }

     /**
      * @When /^I multiply$/
      */
     public function iMultiply() {
         $this-&gt;result = array_shift($this-&gt;numbers);
         foreach ($this-&gt;numbers as $number) {
             $this-&gt;result *= $number;
         }
         $this-&gt;numbers = array();
     }

     /**
      * @When /^I div$/
      */
     public function iDiv() {
         $this-&gt;result = array_shift($this-&gt;numbers);
         foreach ($this-&gt;numbers as $number) {
             $this-&gt;result /= $number;
         }
         $this-&gt;numbers = array();
     }

     /**
      * @Then /^The result should be (\d+)$/
      */
     public function theResultShouldBe($result) {
        assertEquals(intval($result), $this-&gt;result);
     }
}</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Basic scenario outline</span>
<span class="path">features/annotations/outlines.feature:94</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">...............

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple scenario outlines</span>
<span class="path">features/annotations/outlines.feature:122</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I multiply
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 120    |
      | 5       | 3       | 15     |

  Scenario:
    Given I have entered 10
    And I have entered 3
    When I sub
    Then The result should be 7

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I div
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 2       | 5      |
      | 50      | 5       | 10     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.........................

5 scenarios (5 passed)
25 steps (25 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple scenario outlines with failing steps</span>
<span class="path">features/annotations/outlines.feature:166</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I multiply
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 120    |
      | 5       | 4       | 15     |

  Scenario:
    Given I have entered 10
    And I have entered 4
    When I sub
    Then The result should be 7

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I div
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 2       | 5      |
      | 50      | 10      | 2      |
      | 50      | 10      | 4      |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.........F....F.........F....F

(::) failed steps (::)

01. Failed asserting that 20 matches expected 15.
    In step `Then The result should be 15'. # FeatureContext::theResultShouldBe()
    From scenario ***.                      # features/math.feature:5

02. Failed asserting that 6 matches expected 7.
    In step `Then The result should be 7'.  # FeatureContext::theResultShouldBe()
    From scenario ***.                      # features/math.feature:16

03. Failed asserting that 5 matches expected 2.
    In step `Then The result should be 2'.  # FeatureContext::theResultShouldBe()
    From scenario ***.                      # features/math.feature:22

04. Failed asserting that 5 matches expected 4.
    In step `Then The result should be 4'.  # FeatureContext::theResultShouldBe()
    From scenario ***.                      # features/math.feature:22

6 scenarios (2 passed, 4 failed)
30 steps (26 passed, 4 failed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Parameters</span>
</h2>
<p>
In order to support different setups<br />
As a tester<br />
I need to be able to configure Behat through environment variable<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/parameters.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $result;
    private $numbers;

    /**
     * @Given /I have basic calculator/
     */
    public function iHaveBasicCalculator() {
        $this-&gt;result  = 0;
        $this-&gt;numbers = array();
    }

    /**
     * @Given /I have entered (\d+)/
     */
    public function iHaveEntered($number) {
        $this-&gt;numbers[] = intval($number);
    }

    /**
     * @When /I add/
     */
    public function iAdd() {
        $this-&gt;result  = array_sum($this-&gt;numbers);
        $this-&gt;numbers = array();
    }

    /**
     * @When /I sub/
     */
    public function iSub() {
        $this-&gt;result  = array_shift($this-&gt;numbers);
        $this-&gt;result -= array_sum($this-&gt;numbers);
        $this-&gt;numbers = array();
    }

    /**
     * @Then /The result should be (\d+)/
     */
    public function theResultShouldBe($result) {
        assertEquals($result, $this-&gt;result);
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  formatter:
    name: progress</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/parameters.feature:92</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">...............

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<ul class="tags">
<li>@unix</li>
</ul>
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/parameters.feature:103</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">"BEHAT_PARAMS" environment variable is set to:</span>
<span class="path">FeatureContext::iSetEnvironmentVariable()</span>
</div>
<pre class="argument">formatter[name]=pretty&amp;formatter[parameters][paths]=false&amp;formatter[parameters][time]=false</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-c unexistent</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Math

  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<ul class="tags">
<li>@unix</li>
</ul>
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/parameters.feature:133</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">"BEHAT_PARAMS" environment variable is set to:</span>
<span class="path">FeatureContext::iSetEnvironmentVariable()</span>
</div>
<pre class="argument">formatter[name]=pretty&amp;formatter[parameters][time]=false</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-c unexistent</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Math

  Background:                     # features/math.feature:2
    Given I have basic calculator # FeatureContext::iHaveBasicCalculator()

  Scenario Outline:                    # features/math.feature:5
    Given I have entered &lt;number1&gt;     # FeatureContext::iHaveEntered()
    And I have entered &lt;number2&gt;       # FeatureContext::iHaveEntered()
    When I add                         # FeatureContext::iAdd()
    Then The result should be &lt;result&gt; # FeatureContext::theResultShouldBe()

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Pretty Formatter</span>
</h2>
<p>
In order to debug features<br />
As a feature writer<br />
I need to have pretty formatter<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/pretty_format.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Complex</span>
<span class="path">features/annotations/pretty_format.feature:14</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $value;

    /**
     * @Given /I have entered (\d+)/
     */
    public function iHaveEntered($num) {
        $this-&gt;value = $num;
    }

    /**
     * @Then /I must have (\d+)/
     */
    public function iMustHave($num) {
        assertEquals($num, $this-&gt;value);
    }

    /**
     * @When /I add (\d+)/
     */
    public function iAdd($num) {
        $this-&gt;value += $num;
    }

    /**
     * @When /^Something not done yet$/
     */
    public function somethingNotDoneYet() {
        throw new PendingException();
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Undefined
    Then I must have 10
    And Something new
    Then I must have 10

  Scenario: Pending
    Then I must have 10
    And Something not done yet
    Then I must have 10

  Scenario: Failed
    When I add 4
    Then I must have 13

  Scenario Outline: Passed &amp; Failed
    Given I must have 10
    When I add &lt;value&gt;
    Then I must have &lt;result&gt;

    Examples:
      | value | result |
      |  5    | 16     |
      |  10   | 20     |
      |  23   | 32     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:               # features/World.feature:6
    Given I have entered 10 # FeatureContext::iHaveEntered()

  Scenario: Undefined       # features/World.feature:9
    Then I must have 10     # FeatureContext::iMustHave()
    And Something new
    Then I must have 10     # FeatureContext::iMustHave()

  Scenario: Pending            # features/World.feature:14
    Then I must have 10        # FeatureContext::iMustHave()
    And Something not done yet # FeatureContext::somethingNotDoneYet()
      TODO: write pending definition
    Then I must have 10        # FeatureContext::iMustHave()

  Scenario: Failed             # features/World.feature:19
    When I add 4               # FeatureContext::iAdd()
    Then I must have 13        # FeatureContext::iMustHave()
      Failed asserting that 14 matches expected '13'.

  Scenario Outline: Passed &amp; Failed # features/World.feature:23
    Given I must have 10            # FeatureContext::iMustHave()
    When I add &lt;value&gt;              # FeatureContext::iAdd()
    Then I must have &lt;result&gt;       # FeatureContext::iMustHave()

    Examples:
      | value | result |
      | 5     | 16     |
        Failed asserting that 15 matches expected '16'.
      | 10    | 20     |
      | 23    | 32     |
        Failed asserting that 33 matches expected '32'.

6 scenarios (1 passed, 1 pending, 1 undefined, 3 failed)
23 steps (16 passed, 2 skipped, 1 pending, 1 undefined, 3 failed)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^Something new$/
     */
    public function somethingNew()
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple parameters</span>
<span class="path">features/annotations/pretty_format.feature:146</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext, Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,  Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $value;

    /**
     * @Given /I have entered (\d+)/
     */
    public function iHaveEntered($num) {
        $this-&gt;value = $num;
    }

    /**
     * @Then /I must have (\d+)/
     */
    public function iMustHave($num) {
        assertEquals($num, $this-&gt;value);
    }

    /**
     * @When /I (add|subtract) the value (\d+)/
     */
    public function iAddOrSubstact($op, $num) {
        if ($op == 'add')
          $this-&gt;value += $num;
        elseif ($op == 'subtract')
          $this-&gt;value -= $num;
    }

    /**
     * @When /^regex (?P&lt;pattern&gt;\/([^\/]|\\\/)*\/)$/
     */
    public function somethingNotDoneYet($pattern) {}
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Adding
    Then I must have 10
    And I add the value 6
    Then I must have 16
    And regex /some\/regex_ha/

  Scenario: Subtracting
    Then I must have 10
    And I subtract the value 6
    Then I must have 4</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --ansi</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:               [30m# features/World.feature:6[0m
    [32mGiven I have entered [0m[32;1m10[0m[32m[0m [30m# FeatureContext::iHaveEntered()[0m

  Scenario: Adding             [30m# features/World.feature:9[0m
    [32mThen I must have [0m[32;1m10[0m[32m[0m        [30m# FeatureContext::iMustHave()[0m
    [32mAnd I [0m[32;1madd[0m[32m the value [0m[32;1m6[0m[32m[0m      [30m# FeatureContext::iAddOrSubstact()[0m
    [32mThen I must have [0m[32;1m16[0m[32m[0m        [30m# FeatureContext::iMustHave()[0m
    [32mAnd regex [0m[32;1m/some\/regex_ha/[0m[32m[0m [30m# FeatureContext::somethingNotDoneYet()[0m

  Scenario: Subtracting        [30m# features/World.feature:15[0m
    [32mThen I must have [0m[32;1m10[0m[32m[0m        [30m# FeatureContext::iMustHave()[0m
    [32mAnd I [0m[32;1msubtract[0m[32m the value [0m[32;1m6[0m[32m[0m [30m# FeatureContext::iAddOrSubstact()[0m
    [32mThen I must have [0m[32;1m4[0m[32m[0m         [30m# FeatureContext::iMustHave()[0m

2 scenarios ([32m2 passed[0m)
9 steps ([32m9 passed[0m)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiline titles</span>
<span class="path">features/annotations/pretty_format.feature:235</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext, Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,  Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $value;

    /**
     * @Given /I have entered (\d+)/
     */
    public function iHaveEntered($num) {
        $this-&gt;value = $num;
    }

    /**
     * @Then /I must have (\d+)/
     */
    public function iMustHave($num) {
        assertEquals($num, $this-&gt;value);
    }

    /**
     * @When /I (add|subtract) the value (\d+)/
     */
    public function iAddOrSubstact($op, $num) {
        if ($op == 'add')
          $this-&gt;value += $num;
        elseif ($op == 'subtract')
          $this-&gt;value -= $num;
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Adding some interesting
            value
    Then I must have 10
    And I add the value 6
    Then I must have 16

  Scenario: Subtracting
            some
            value
    Then I must have 10
    And I subtract the value 6
    Then I must have 4</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:               # features/World.feature:6
    Given I have entered 10 # FeatureContext::iHaveEntered()

  Scenario: Adding some interesting # features/World.feature:9
            value
    Then I must have 10             # FeatureContext::iMustHave()
    And I add the value 6           # FeatureContext::iAddOrSubstact()
    Then I must have 16             # FeatureContext::iMustHave()

  Scenario: Subtracting             # features/World.feature:15
            some
            value
    Then I must have 10             # FeatureContext::iMustHave()
    And I subtract the value 6      # FeatureContext::iAddOrSubstact()
    Then I must have 4              # FeatureContext::iMustHave()

2 scenarios (2 passed)
8 steps (8 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Outline parameter inside step argument</span>
<span class="path">features/annotations/pretty_format.feature:323</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $value = 10;

    /**
     * @Then /I must have &quot;([^&quot;]+)&quot;/
     */
    public function iMustHave($num) {
        assertEquals(intval(preg_replace('/[^\d]+/', '', $num)), $this-&gt;value);
    }

    /**
     * @When /I add &quot;([^&quot;]+)&quot;/
     */
    public function iAdd($num) {
        $this-&gt;value += intval(preg_replace('/[^\d]+/', '', $num));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Scenario Outline: Passed &amp; Failed
    When I add &quot;amount of &lt;value&gt; something&quot;
    Then I must have &quot;amount of &lt;result&gt; something&quot;

    Examples:
      | value | result |
      |  5    | 15     |
      |  10   | 20     |
      |  23   | 33     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --ansi</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Scenario Outline: Passed &amp; Failed                 [30m# features/World.feature:6[0m
    [36mWhen I add &quot;amount of [0m[36;1m&lt;value&gt;[0m[36m something&quot;[0m        [30m# FeatureContext::iAdd()[0m
    [36mThen I must have &quot;amount of [0m[36;1m&lt;result&gt;[0m[36m something&quot;[0m [30m# FeatureContext::iMustHave()[0m

    Examples:
[36m[0m[36m      [0m[36m[0m|[36m[0m[36m value [0m[36m[0m|[36m[0m[36m result [0m[36m[0m|[36m[0m
[32m[0m[32m      [0m[32m[0m|[32m[0m[32m 5     [0m[32m[0m|[32m[0m[32m 15     [0m[32m[0m|[32m[0m
[32m[0m[32m      [0m[32m[0m|[32m[0m[32m 10    [0m[32m[0m|[32m[0m[32m 20     [0m[32m[0m|[32m[0m
[32m[0m[32m      [0m[32m[0m|[32m[0m[32m 23    [0m[32m[0m|[32m[0m[32m 33     [0m[32m[0m|[32m[0m

3 scenarios ([32m3 passed[0m)
6 steps ([32m6 passed[0m)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Don't print undefined exceptions in outline</span>
<span class="path">features/annotations/pretty_format.feature:391</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $value = 10;

    /**
     * @Then /I must have &quot;([^&quot;]+)&quot;/
     */
    public function iMustHave($num) {
        assertEquals(intval(preg_replace('/[^\d]+/', '', $num)), $this-&gt;value);
    }

    /**
     * @When /I add &quot;([^&quot;]+)&quot;/
     */
    public function iAdd($num) {
        $this-&gt;value += intval(preg_replace('/[^\d]+/', '', $num));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/ls.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: ls
  In order to see the directory structure
  As a UNIX user
  I need to be able to list the current directory's contents

  Background:
    Given I have a file named &quot;foo&quot;

  Scenario: List 2 files in a directory
    Given I have a file named &quot;bar&quot;
    When I run &quot;ls&quot;
    Then I should see &quot;bar&quot; in output
    And I should see &quot;foo&quot; in output

  Scenario: List 1 file and 1 dir
    Given I have a directory named &quot;dir&quot;
    When I run &quot;ls&quot;
    Then I should see &quot;dir&quot; in output
    And I should see &quot;foo&quot; in output

  Scenario Outline:
    Given I have a &lt;object&gt; named &quot;&lt;name&gt;&quot;
    When I run &quot;ls&quot;
    Then I should see &quot;&lt;name&gt;&quot; in output
    And I should see &quot;foo&quot; in output

    Examples:
      | object    | name |
      | file      | bar  |
      | directory | dir  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">features/ls.feature --no-snippets</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: ls
  In order to see the directory structure
  As a UNIX user
  I need to be able to list the current directory's contents

  Background:                       # features/ls.feature:6
    Given I have a file named &quot;foo&quot;

  Scenario: List 2 files in a directory # features/ls.feature:9
    Given I have a file named &quot;bar&quot;
    When I run &quot;ls&quot;
    Then I should see &quot;bar&quot; in output
    And I should see &quot;foo&quot; in output

  Scenario: List 1 file and 1 dir        # features/ls.feature:15
    Given I have a directory named &quot;dir&quot;
    When I run &quot;ls&quot;
    Then I should see &quot;dir&quot; in output
    And I should see &quot;foo&quot; in output

  Scenario Outline:                        # features/ls.feature:21
    Given I have a &lt;object&gt; named &quot;&lt;name&gt;&quot;
    When I run &quot;ls&quot;
    Then I should see &quot;&lt;name&gt;&quot; in output
    And I should see &quot;foo&quot; in output

    Examples:
      | object    | name |
      | file      | bar  |
      | directory | dir  |

4 scenarios (4 undefined)
20 steps (20 undefined)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiline titles</span>
<span class="path">features/annotations/pretty_format.feature:491</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background: Some background
    title
      with
  multiple lines

    Given I have entered 10

  Scenario: Undefined
            scenario or
            whatever
    Then I must have 10
    And Something new
    Then I must have 10

Scenario Outline: Passed &amp; Failed
steps and other interesting stuff
  he-he-he

    Given I must have 10
    When I add &lt;value&gt;
    Then I must have &lt;result&gt;

    Examples:
      | value | result |
      |  5    | 16     |
      |  10   | 20     |
      |  23   | 32     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --no-snippets</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background: Some background # features/World.feature:6
    title
      with
    multiple lines
    Given I have entered 10

  Scenario: Undefined         # features/World.feature:13
            scenario or
            whatever
    Then I must have 10
    And Something new
    Then I must have 10

  Scenario Outline: Passed &amp; Failed # features/World.feature:20
    steps and other interesting stuff
    he-he-he
    Given I must have 10
    When I add &lt;value&gt;
    Then I must have &lt;result&gt;

    Examples:
      | value | result |
      | 5     | 16     |
      | 10    | 20     |
      | 23    | 32     |

4 scenarios (4 undefined)
16 steps (16 undefined)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Profiles</span>
</h2>
<p>
In order to test my features<br />
As a tester<br />
I need to be able to create and run custom profiles<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/profiles.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $result;
    private $numbers;

    /**
     * @Given /I have basic calculator/
     */
    public function iHaveBasicCalculator() {
        $this-&gt;result  = 0;
        $this-&gt;numbers = array();
    }

    /**
     * @Given /I have entered (\d+)/
     */
    public function iHaveEntered($number) {
        $this-&gt;numbers[] = intval($number);
    }

    /**
     * @When /I add/
     */
    public function iAdd() {
        $this-&gt;result  = array_sum($this-&gt;numbers);
        $this-&gt;numbers = array();
    }

    /**
     * @When /I sub/
     */
    public function iSub() {
        $this-&gt;result  = array_shift($this-&gt;numbers);
        $this-&gt;result -= array_sum($this-&gt;numbers);
        $this-&gt;numbers = array();
    }

    /**
     * @Then /The result should be (\d+)/
     */
    public function theResultShouldBe($result) {
        assertEquals($result, $this-&gt;result);
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">pretty.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">pretty:
  formatter:
    name: pretty</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  formatter:
    name: progress
pretty_without_paths:
  formatter:
    name: pretty
    parameters:
      paths: false
imports:
  - pretty.yml</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/profiles.feature:105</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">...............

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/profiles.feature:115</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">--profile pretty_without_paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Math

  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/profiles.feature:140</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">--profile pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Math

  Background:                     # features/math.feature:2
    Given I have basic calculator # FeatureContext::iHaveBasicCalculator()

  Scenario Outline:                    # features/math.feature:5
    Given I have entered &lt;number1&gt;     # FeatureContext::iHaveEntered()
    And I have entered &lt;number2&gt;       # FeatureContext::iHaveEntered()
    When I add                         # FeatureContext::iAdd()
    Then The result should be &lt;result&gt; # FeatureContext::theResultShouldBe()

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Rerun</span>
</h2>
<p>
In order to test only failed scenarios<br />
As a feature developer<br />
I need to have an ability to rerun failed previously scenarios<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/rerun.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Run one feature with 2 failed and 3 passing scenarios</span>
<span class="path">features/annotations/rerun.feature:106</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F.............F....

(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 7 matches expected 8.
    In step `Then I should have 8 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.      # features/apples.feature:21

6 scenarios (4 passed, 2 failed)
21 steps (19 passed, 2 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Rerun only failed scenarios</span>
<span class="path">features/annotations/rerun.feature:126</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature --rerun re.log</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature --rerun re.log</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F.......F....

(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 7 matches expected 8.
    In step `Then I should have 8 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `Other situations'.      # features/apples.feature:21

4 scenarios (2 passed, 2 failed)
15 steps (13 passed, 2 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Fixing scenario removes it from the rerun log</span>
<span class="path">features/annotations/rerun.feature:147</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature --rerun re.log</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">there is a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 7      |
      | 2   | 2     | 3      |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature --rerun re.log</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature --rerun re.log</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F

(::) failed steps (::)

01. Failed asserting that 2 matches expected 3.
    In step `Then I should have 3 apples'. # FeatureContext::iShouldHaveApples()
    From scenario `I'm little hungry'.     # features/apples.feature:9

1 scenario (1 failed)
3 steps (2 passed, 1 failed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Different result types</span>
</h2>
<p>
In order to differentiate feature statuses<br />
As a feature writer<br />
I need to be able to see different types of test results<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/result_types.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Undefined steps</span>
<span class="path">features/annotations/result_types.feature:14</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Undefined coffee machine actions
  In order to make clients happy
  As a coffee machine factory
  We need to be able to tell customers
  about what coffe type is supported

  Background:
    Given I have magically created 10$

  Scenario: Buy incredible coffee
    When I have chose &quot;coffee with turkey&quot; in coffee machine
    Then I should have &quot;turkey with coffee sauce&quot;

  Scenario: Buy incredible tea
    When I have chose &quot;pizza tea&quot; in coffee machine
    Then I should have &quot;pizza tea&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext, Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,  Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext {}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">UUUUUU

2 scenarios (2 undefined)
6 steps (6 undefined)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^I have magically created (\d+)\$$/
     */
    public function iHaveMagicallyCreated($arg1)
    {
        throw new PendingException();
    }

    /**
     * @When /^I have chose &quot;([^&quot;]*)&quot; in coffee machine$/
     */
    public function iHaveChoseInCoffeeMachine($arg1)
    {
        throw new PendingException();
    }

    /**
     * @Then /^I should have &quot;([^&quot;]*)&quot;$/
     */
    public function iShouldHave($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--strict -f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">UUUUUU

2 scenarios (2 undefined)
6 steps (6 undefined)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Given /^I have magically created (\d+)\$$/
     */
    public function iHaveMagicallyCreated($arg1)
    {
        throw new PendingException();
    }

    /**
     * @When /^I have chose &quot;([^&quot;]*)&quot; in coffee machine$/
     */
    public function iHaveChoseInCoffeeMachine($arg1)
    {
        throw new PendingException();
    }

    /**
     * @Then /^I should have &quot;([^&quot;]*)&quot;$/
     */
    public function iShouldHave($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Pending steps</span>
<span class="path">features/annotations/result_types.feature:112</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Pending coffee machine actions
  In order to make some long making drinks
  As a coffee machine
  I need to be able to make pending actions

  Background:
    Given human have ordered very very very hot &quot;coffee&quot;

  Scenario: When the coffee ready
    When the coffee will be ready
    Then I should say &quot;Take your cup!&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext, Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,  Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    /**
     * @Given /^human have ordered very very very hot &quot;([^&quot;]*)&quot;$/
     */
    public function humanOrdered($arg1) {
        throw new PendingException;
    }

    /**
     * @When the coffee will be ready
     */
    public function theCoffeeWillBeReady() {
        throw new PendingException;
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">P-U

(::) pending steps (::)

01. TODO: write pending definition
    In step `Given human have ordered very very very hot &quot;coffee&quot;'. # FeatureContext::humanOrdered()
    From scenario background.                                       # features/coffee.feature:6

1 scenario (1 undefined)
3 steps (1 skipped, 1 pending, 1 undefined)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Then /^I should say &quot;([^&quot;]*)&quot;$/
     */
    public function iShouldSay($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--strict -f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">P-U

(::) pending steps (::)

01. TODO: write pending definition
    In step `Given human have ordered very very very hot &quot;coffee&quot;'. # FeatureContext::humanOrdered()
    From scenario background.                                       # features/coffee.feature:6

1 scenario (1 undefined)
3 steps (1 skipped, 1 pending, 1 undefined)

You can implement step definitions for undefined steps with these snippets:

    /**
     * @Then /^I should say &quot;([^&quot;]*)&quot;$/
     */
    public function iShouldSay($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Failed steps</span>
<span class="path">features/annotations/result_types.feature:200</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Failed coffee machine actions
  In order to know about coffee machine failures
  As a coffee buyer
  I need to be able to know about failed actions

  Background:
    Given I have throwed 10$ into machine

  Scenario: Check throwed amount
    Then I should see 12$ on the screen

  Scenario: Additional throws
    Given I have throwed 20$ into machine
    Then I should see 31$ on the screen
    And I should see 33$ on the screen</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $money = 0;

    /**
     * @Given /^I have throwed (\d+)\$ into machine$/
     */
    public function pay($money) {
        $this-&gt;money += $money;
    }

    /**
     * @Then /^I should see (\d+)\$ on the screen$/
     */
    public function iShouldSee($money) {
        assertEquals($money, $this-&gt;money);
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.F..F-

(::) failed steps (::)

01. Failed asserting that 10 matches expected '12'.
    In step `Then I should see 12$ on the screen'. # FeatureContext::iShouldSee()
    From scenario `Check throwed amount'.          # features/coffee.feature:9

02. Failed asserting that 30 matches expected '31'.
    In step `Then I should see 31$ on the screen'. # FeatureContext::iShouldSee()
    From scenario `Additional throws'.             # features/coffee.feature:12

2 scenarios (2 failed)
6 steps (3 passed, 1 skipped, 2 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Skipped steps</span>
<span class="path">features/annotations/result_types.feature:266</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Skipped coffee machine actions
  In order to tell clients about failures faster
  As a coffee machine
  I need to be able to skip unneeded steps

  Background:
    Given human bought coffee

  Scenario: I have no water
    Given I have no water
    And I have electricity
    When I boil water
    Then the coffee should be almost done

  Scenario: I have no electricity
    Given I have water
    And I have no electricity
    When I boil water
    Then the coffee should be almost done</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $money = 0;

    /** @Given /^human bought coffee$/ */
    public function humanBoughtCoffee() {}

    /** @Given /^I have water$/ */
    public function water() {}

    /** @Given /^I have no water$/ */
    public function noWater() {
        throw new Exception('NO water in coffee machine!!!');
    }

    /** @Given /^I have electricity$/ */
    public function haveElectricity() {}

    /** @Given /^I have no electricity$/ */
    public function haveNoElectricity() {
        throw new Exception('NO electricity in coffee machine!!!');
    }

    /** @When /^I boil water$/ */
    public function boilWater() {}

    /** @Then /^the coffee should be almost done$/ */
    public function coffeeAlmostDone() {}

    /**
     * @Then /^I should see (\d+)\$ on the screen$/
     */
    public function iShouldSee($money) {
        assertEquals($money, $this-&gt;money);
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.F---..F--

(::) failed steps (::)

01. NO water in coffee machine!!!
    In step `Given I have no water'. # FeatureContext::noWater()
    From scenario `I have no water'. # features/coffee.feature:9

02. NO electricity in coffee machine!!!
    In step `And I have no electricity'.   # FeatureContext::haveNoElectricity()
    From scenario `I have no electricity'. # features/coffee.feature:15

2 scenarios (2 failed)
10 steps (3 passed, 5 skipped, 2 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Ambigious steps</span>
<span class="path">features/annotations/result_types.feature:354</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Ambigious orders in coffee menu
  In order to be able to chose concrete coffee type
  As a coffee buyer
  I need to be able to know about ambigious decisions

  Scenario: Ambigious coffee type
    Given human have chosen &quot;Latte&quot;
    Then I should make him &quot;Latte&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    /** @Given /^human have chosen &quot;([^&quot;]*)&quot;$/ */
    public function chosen($arg1) {
        throw new PendingException;
    }

    /** @Given /^human have chosen &quot;Latte&quot;$/ */
    public function chosenLatte() {
        throw new PendingException;
    }

    /**
     * @Then /^I should make him &quot;([^&quot;]*)&quot;$/
     */
    public function iShouldSee($money) {
        throw new PendingException;
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">F-

(::) failed steps (::)

01. Ambiguous match of &quot;human have chosen &quot;Latte&quot;&quot;:
    to `/^human have chosen &quot;([^&quot;]*)&quot;$/` from FeatureContext::chosen()
    to `/^human have chosen &quot;Latte&quot;$/` from FeatureContext::chosenLatte()
    In step `Given human have chosen &quot;Latte&quot;'.
    From scenario `Ambigious coffee type'.     # features/coffee.feature:6

1 scenario (1 failed)
2 steps (1 skipped, 1 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Redundant steps</span>
<span class="path">features/annotations/result_types.feature:412</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Redundant actions
  In order to be able to know about errors in definitions as soon as possible
  As a coffee machine mechanic
  I need to be able to know about redundant menu definitions

  Scenario: Redundant menu
    Given customer bought coffee
    And customer bought another one coffee</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    /** @Given /^customer bought coffee$/ */
    public function chosen($arg1) {
        // do something
    }

    /** @Given /^customer bought coffee$/ */
    public function chosenLatte() {
        // do something else
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Step &quot;/^customer bought coffee$/&quot; is already defined in FeatureContext::chosen()</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Error-containing steps</span>
<span class="path">features/annotations/result_types.feature:453</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Redundant actions
  In order to be able to know about errors in definitions as soon as possible
  As a coffee machine mechanic
  I need to be able to know about redundant menu definitions

  Scenario: Redundant menu
    Given customer bought coffee
    And customer bought another one coffee</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    /** @Given /^customer bought coffee$/ */
    public function chosen() {
        trigger_error(&quot;some error&quot;, E_USER_ERROR);
    }

    /** @Given /^customer bought another one coffee$/ */
    public function chosenLatte() {
        // do something else
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">F-

(::) failed steps (::)

01. User Error: some error in features/bootstrap/FeatureContext.php line 12
    In step `Given customer bought coffee'. # FeatureContext::chosen()
    From scenario `Redundant menu'.         # features/coffee.feature:6

1 scenario (1 failed)
2 steps (1 skipped, 1 failed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Snippets format</span>
</h2>
<p>
In order to see only undefined steps snippets<br />
As a tester<br />
I need to be able to use 'snippets' formatter<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/snippets_formatter.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    private $apples = 0;
    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }

    /**
     * @Then /^context parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/
     */
    public function contextParameterShouldBeEqualTo($key, $val) {
      assertEquals($val, $this-&gt;parameters[$key]);
    }

    /**
     * @Given /^context parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/
     */
    public function contextParameterShouldBeArrayWithElements($key, $count) {
        assertInternalType('array', $this-&gt;parameters[$key]);
        assertEquals(2, count($this-&gt;parameters[$key]));
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 3 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples
    And do something undefined

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 8      |
      | 2   | 2     | 3      |

  Scenario: Multilines
    Given pystring:
      '''
      some pystring
      '''
    And table:
      | col1 | col2 |
      | val1 | val2 |

  Scenario: Worded quote
    When que j'utilise behat en français'
    Then j'utilise un apostrophe et j'obtiens une erreur
    And some 'properly escaped' string
    And 'another escaped' string
    And one 'more string'
    And one &quot;more string&quot;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Run feature with failing scenarios</span>
<span class="path">features/annotations/snippets_formatter.feature:124</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f snippets</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">/**
     * @Given /^do something undefined$/
     */
    public function doSomethingUndefined()
    {
        throw new PendingException();
    }

    /**
     * @Given /^pystring:$/
     */
    public function pystring(PyStringNode $string)
    {
        throw new PendingException();
    }

    /**
     * @Given /^table:$/
     */
    public function table(TableNode $table)
    {
        throw new PendingException();
    }

    /**
     * @When /^que j\'utilise behat en français\'$/
     */
    public function queJUtiliseBehatEnFrancais()
    {
        throw new PendingException();
    }

    /**
     * @Then /^j\'utilise un apostrophe et j\'obtiens une erreur$/
     */
    public function jUtiliseUnApostropheEtJObtiensUneErreur()
    {
        throw new PendingException();
    }

    /**
     * @Given /^some \'([^\']*)\' string$/
     */
    public function someString($arg1)
    {
        throw new PendingException();
    }

    /**
     * @Given /^\'([^\']*)\' string$/
     */
    public function string($arg1)
    {
        throw new PendingException();
    }

    /**
     * @Given /^one \'([^\']*)\'$/
     */
    public function one($arg1)
    {
        throw new PendingException();
    }

    /**
     * @Given /^one &quot;([^&quot;]*)&quot;$/
     */
    public function one2($arg1)
    {
        throw new PendingException();
    }</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Call step in other step</span>
</h2>
<p>
In order to mantain fluid step definition<br />
As a features writer<br />
I need to be able to call other steps from step body<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/steps_chaining.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\TranslatedContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException,
    Behat\Behat\Context\Step;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

class FeatureContext extends BehatContext implements TranslatedContextInterface
{
    private $result = 0;
    private $numbers = array();
    private $hash;

    public function __construct()
    {
        $this-&gt;hash = array('username' =&gt; 'everzet', 'password' =&gt; 'qwerty');
    }

    /**
     * @Given /I have entered &quot;([^&quot;]*)&quot;/
     */
    public function iHaveEnteredEn($number)
    {
        $this-&gt;numbers[] = $number;
    }

    /**
     * @When /I press +/
     */
    public function iPressPlusEn()
    {
        $this-&gt;result  = array_sum($this-&gt;numbers);
        $this-&gt;numbers = array();
    }

    /**
     * @Then /I should see &quot;([^&quot;]*)&quot; on the screen/
     */
    public function iShouldSeeEn($result)
    {
        assertEquals($result, $this-&gt;result);
    }

    /**
     * @Then /Table should be:/
     */
    public function assertTableEn(TableNode $table)
    {
        assertEquals($this-&gt;hash, $table-&gt;getRowsHash());
    }

    /**
     * @Given /Я ввел &quot;([^&quot;]*)&quot;/
     */
    public function iHaveEnteredRu($number)
    {
        return new Step\Given(&quot;I have entered \&quot;$number\&quot;&quot;);
    }

    /**
     * @When /Я нажму +/
     */
    public function iPressPlusRu()
    {
        return new Step\When(&quot;I press +&quot;);
    }

    /**
     * @Then /Я должен увидеть на экране &quot;([^&quot;]*)&quot;/
     */
    public function iShouldSeeRu($result)
    {
        return new Step\Then(&quot;I should see \&quot;$result\&quot; on the screen&quot;);
    }

    /**
     * @Given /I entered &quot;([^&quot;]*)&quot; and expect &quot;([^&quot;]*)&quot;/
     */
    public function complexStep($number, $result)
    {
        return array(
            new Step\Given(&quot;I have entered \&quot;$number\&quot;&quot;),
            new Step\When(&quot;I press +&quot;),
            new Step\Then(&quot;I should see \&quot;$result\&quot; on the screen&quot;)
        );
    }

    /**
     * @Given /I calculate &quot;([^&quot;]*)&quot; and &quot;([^&quot;]*)&quot;/
     */
    public function calcNumbers($number1, $number2)
    {
        return array(
            function() use($number1, $number2) {
                return array(
                  new Step\Given(&quot;Ввожу \&quot;$number1\&quot;&quot;),
                  function() use($number2) { return new Step\Given(&quot;Ввожу \&quot;$number2\&quot;&quot;); }
                );

            },
            new Step\When(&quot;Нажимаю плюс&quot;),
        );
    }

    /**
     * @Then /Я создам себе failing таблицу/
     */
    public function assertFailingTableRu()
    {
        return new Step\Then('Table should be:', new Behat\Gherkin\Node\TableNode(&lt;&lt;&lt;TABLE
          | username | antono |
          | password | 123    |
TABLE
        ));
    }

    /**
     * @Then /Я создам себе passing таблицу/
     */
    public function assertPassingTableRu()
    {
        return new Step\Then('Table should be:', new Behat\Gherkin\Node\TableNode(&lt;&lt;&lt;TABLE
          | username | everzet |
          | password | qwerty  |
TABLE
        ));
    }

    /**
     * @Then /Вызовем несуществующий шаг/
     */
    public function assertUnexistentStepRu()
    {
        return new Step\Then('non-existent step');
    }

    public function getTranslationResources() {
        return array(__DIR__ . DIRECTORY_SEPARATOR . 'i18n' . DIRECTORY_SEPARATOR . 'ru.xliff');
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/i18n/ru.xliff</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;xliff version=&quot;1.2&quot; xmlns=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;
  &lt;file original=&quot;global&quot; source-language=&quot;en&quot; target-language=&quot;ru&quot; datatype=&quot;plaintext&quot;&gt;
    &lt;header /&gt;
    &lt;body&gt;
      &lt;trans-unit id=&quot;i-calculate&quot;&gt;
        &lt;source&gt;/I calculate &quot;([^&quot;]*)&quot; and &quot;([^&quot;]*)&quot;/&lt;/source&gt;
        &lt;target&gt;/Я сложу числа &quot;([^&quot;]*)&quot; и &quot;([^&quot;]*)&quot;/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-have-entered&quot;&gt;
        &lt;source&gt;/I have entered &quot;([^&quot;]*)&quot;/&lt;/source&gt;
        &lt;target&gt;/Ввожу &quot;([^&quot;]*)&quot;/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-press-plus&quot;&gt;
        &lt;source&gt;/I press +/&lt;/source&gt;
        &lt;target&gt;/Нажимаю плюс/&lt;/target&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/steps_chaining.feature:179</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_en.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Basic calculator
  Scenario:
    Given I have entered &quot;12&quot;
    And I have entered &quot;27&quot;
    And I have entered &quot;5&quot;
    When I press +
    Then I should see &quot;44&quot; on the screen

  Scenario:
    Given I have entered &quot;23&quot;
    Then I entered &quot;10&quot; and expect &quot;33&quot;

  Scenario:
    Given I have entered &quot;3&quot;
    Then I entered &quot;5&quot; and expect &quot;10&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_en.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">........F

(::) failed steps (::)

01. Failed asserting that 8 matches expected '10'.
    In step `Then I entered &quot;5&quot; and expect &quot;10&quot;'. # FeatureContext::complexStep()
    From scenario ***.                            # features/calc_en.feature:13

3 scenarios (2 passed, 1 failed)
9 steps (8 passed, 1 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/steps_chaining.feature:213</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_en.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Basic calculator
  Scenario:
    Given I have entered &quot;7&quot;
    When I press +
    Then I should see &quot;8&quot; on the screen</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_en.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F

(::) failed steps (::)

01. Failed asserting that 7 matches expected '8'.
    In step `Then I should see &quot;8&quot; on the screen'. # FeatureContext::iShouldSeeEn()
    From scenario ***.                             # features/calc_en.feature:2

1 scenario (1 failed)
3 steps (2 passed, 1 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/steps_chaining.feature:237</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Стандартный калькулятор
  Сценарий:
    Допустим Я ввел &quot;12&quot;
    И Я ввел &quot;27&quot;
    Если Я нажму +
    То Я должен увидеть на экране &quot;39&quot;
    И Я создам себе passing таблицу
    И Вызовем несуществующий шаг</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.....F

(::) failed steps (::)

01. Undefined step &quot;non-existent step&quot;
    In step `И Вызовем несуществующий шаг'. # FeatureContext::assertUnexistentStepRu()
    From scenario ***.                      # features/calc_ru.feature:3

1 scenario (1 failed)
6 steps (5 passed, 1 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Substeps i18n</span>
<span class="path">features/annotations/steps_chaining.feature:265</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Стандартный калькулятор
  Сценарий:
    Если Я сложу числа &quot;12&quot; и &quot;27&quot;
    То Я должен увидеть на экране &quot;39&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Undefined substep in pretty format</span>
<span class="path">features/annotations/steps_chaining.feature:283</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Стандартный калькулятор
  Сценарий:
    Допустим Я ввел &quot;12&quot;
    И Я ввел &quot;27&quot;
    Если Я нажму +
    То Я должен увидеть на экране &quot;39&quot;
    И Я создам себе passing таблицу
    И Вызовем несуществующий шаг</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--no-paths features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Функционал: Стандартный калькулятор

  Сценарий:
    Допустим Я ввел &quot;12&quot;
    И Я ввел &quot;27&quot;
    Если Я нажму +
    То Я должен увидеть на экране &quot;39&quot;
    И Я создам себе passing таблицу
    И Вызовем несуществующий шаг
      Undefined step &quot;non-existent step&quot;

1 scenario (1 failed)
6 steps (5 passed, 1 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/annotations/steps_chaining.feature:314</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Стандартный калькулятор
  Сценарий:
    Допустим Я ввел &quot;7&quot;
    Если Я нажму +
    То Я должен увидеть на экране &quot;8&quot;

  Сценарий:
    Допустим Я создам себе failing таблицу</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..FF

(::) failed steps (::)

01. Failed asserting that 7 matches expected '8'.
    In step `То Я должен увидеть на экране &quot;8&quot;'. # FeatureContext::iShouldSeeRu()
    From scenario ***.                           # features/calc_ru.feature:3

02. Failed asserting that two arrays are equal.
    In step `Допустим Я создам себе failing таблицу'. # FeatureContext::assertFailingTableRu()
    From scenario ***.                                # features/calc_ru.feature:8

2 scenarios (2 failed)
4 steps (2 passed, 2 failed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Syntax helpers</span>
</h2>
<p>
In order to get syntax help<br />
As a feature writer<br />
I need to be able to print supported definitions and Gherkin keywords<br />
</p>

<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Print story syntax</span>
<span class="path">features/annotations/syntax_help.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php class FeatureContext extends Behat\Behat\Context\BehatContext {}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--story-syntax</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Internal operations
  In order to stay secret
  As a secret organization
  We need to be able to erase past agents' memory

  Background:
    Given there is agent A
    And there is agent B

  Scenario: Erasing agent memory
    Given there is agent J
    And there is agent K
    When I erase agent K's memory
    Then there should be agent J
    But there should not be agent K

  [Scenario Outline|Scenario Template]: Erasing other agents' memory
    Given there is agent &lt;agent1&gt;
    And there is agent &lt;agent2&gt;
    When I erase agent &lt;agent2&gt;'s memory
    Then there should be agent &lt;agent1&gt;
    But there should not be agent &lt;agent2&gt;

    [Examples|Scenarios]:
      | agent1 | agent2 |
      | D      | M      |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Print story syntax in native language</span>
<span class="path">features/annotations/syntax_help.feature:42</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php class FeatureContext extends Behat\Behat\Context\BehatContext {}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--story-syntax --lang ru</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument"># language: ru
[Функция|Функционал|Свойство]: Internal operations
  In order to stay secret
  As a secret organization
  We need to be able to erase past agents' memory

  [Предыстория|Контекст]:
    [Допустим|Дано|Пусть] there is agent A
    [И|К тому же] there is agent B

  Сценарий: Erasing agent memory
    [Допустим|Дано|Пусть] there is agent J
    [И|К тому же] there is agent K
    [Если|Когда] I erase agent K's memory
    [То|Тогда] there should be agent J
    [Но|А] there should not be agent K

  Структура сценария: Erasing other agents' memory
    [Допустим|Дано|Пусть] there is agent &lt;agent1&gt;
    [И|К тому же] there is agent &lt;agent2&gt;
    [Если|Когда] I erase agent &lt;agent2&gt;'s memory
    [То|Тогда] there should be agent &lt;agent1&gt;
    [Но|А] there should not be agent &lt;agent2&gt;

    Примеры:
      | agent1 | agent2 |
      | D      | M      |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Print available definitions</span>
<span class="path">features/annotations/syntax_help.feature:79</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;

class FeatureContext extends BehatContext
{
    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        throw new PendingException();
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        throw new PendingException();
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-dl</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Given /^I have (\d+) apples?$/
 When /^I ate (\d+) apples?$/
 When /^I found (\d+) apples?$/
 Then /^I should have (\d+) apples$/</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Print available definitions in native language</span>
<span class="path">features/annotations/syntax_help.feature:127</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException,
    Behat\Behat\Context\TranslatedContextInterface;

class FeatureContext extends BehatContext implements TranslatedContextInterface
{
    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        throw new PendingException();
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        throw new PendingException();
    }

    public function getTranslationResources() {
        return array(__DIR__ . DIRECTORY_SEPARATOR . 'i18n' . DIRECTORY_SEPARATOR . 'ru.xliff');
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/i18n/ru.xliff</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;xliff version=&quot;1.2&quot; xmlns=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;
  &lt;file original=&quot;global&quot; source-language=&quot;en&quot; target-language=&quot;ru&quot; datatype=&quot;plaintext&quot;&gt;
    &lt;header /&gt;
    &lt;body&gt;
      &lt;trans-unit id=&quot;i-have-apples&quot;&gt;
        &lt;source&gt;/^I have (\d+) apples?$/&lt;/source&gt;
        &lt;target&gt;/^у меня (\d+) яблоко?$/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-found&quot;&gt;
        &lt;source&gt;/^I found (\d+) apples?$/&lt;/source&gt;
        &lt;target&gt;/^Я нашел (\d+) яблоко?$/&lt;/target&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-dl --lang=ru</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Given /^у меня (\d+) яблоко?$/
 When /^I ate (\d+) apples?$/
 When /^Я нашел (\d+) яблоко?$/
 Then /^I should have (\d+) apples$/</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Print extended definitions info</span>
<span class="path">features/annotations/syntax_help.feature:198</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;

class FeatureContext extends BehatContext
{
    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        throw new PendingException();
    }

    /**
     * Eating apples
     *
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        throw new PendingException();
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        throw new PendingException();
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-di</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Given /^I have (\d+) apples?$/
    # FeatureContext::iHaveApples()

 When /^I ate (\d+) apples?$/
    - Eating apples
    # FeatureContext::iAteApples()

 When /^I found (\d+) apples?$/
    # FeatureContext::iFoundApples()

 Then /^I should have (\d+) apples$/
    # FeatureContext::iShouldHaveApples()</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Search definition</span>
<span class="path">features/annotations/syntax_help.feature:256</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;

class FeatureContext extends BehatContext
{
    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        throw new PendingException();
    }

    /**
     * Eating apples
     *
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        throw new PendingException();
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        throw new PendingException();
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-d 'found apples'</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">When /^I found (\d+) apples?$/
    # FeatureContext::iFoundApples()</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Search definition</span>
<span class="path">features/annotations/syntax_help.feature:304</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException,
    Behat\Behat\Context\TranslatedContextInterface;

class FeatureContext extends BehatContext implements TranslatedContextInterface
{
    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        throw new PendingException();
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        throw new PendingException();
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        throw new PendingException();
    }

    public function getTranslationResources() {
        return array(__DIR__ . DIRECTORY_SEPARATOR . 'i18n' . DIRECTORY_SEPARATOR . 'ru.xliff');
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/i18n/ru.xliff</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;xliff version=&quot;1.2&quot; xmlns=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;
  &lt;file original=&quot;global&quot; source-language=&quot;en&quot; target-language=&quot;ru&quot; datatype=&quot;plaintext&quot;&gt;
    &lt;header /&gt;
    &lt;body&gt;
      &lt;trans-unit id=&quot;i-have-apples&quot;&gt;
        &lt;source&gt;/^I have (\d+) apples?$/&lt;/source&gt;
        &lt;target&gt;/^у меня (\d+) яблоко?$/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-found&quot;&gt;
        &lt;source&gt;/^I found (\d+) apples?$/&lt;/source&gt;
        &lt;target&gt;/^Я нашел (\d+) яблоко?$/&lt;/target&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--lang=ru -d 'нашел'</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">When /^Я нашел (\d+) яблоко?$/
    # FeatureContext::iFoundApples()</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Tags</span>
</h2>
<p>
In order to run only needed features<br />
As a Behat user<br />
I need to Behat support features &amp; scenario/outline tags<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/tag_filters.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    /**
     * @Given /^Some slow step N(\d+)$/
     */
    public function someSlowStepN($num) {}

    /**
     * @Given /^Some normal step N(\d+)$/
     */
    public function someNormalStepN($num) {}

    /**
     * @Given /^Some fast step N(\d+)$/
     */
    public function someFastStepN($num) {}
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature1.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  Scenario:
    Given Some slow step N12
    And Some normal step N13

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature2.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23

  @fast
  Scenario:
    Given Some fast step N24
    And Some fast step N25</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature3.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @slow
  Scenario Outline:
    Given Some slow step N&lt;num&gt;

    Examples:
      | num |
      | 31  |
      | 32  |

  @normal
  Scenario:
    Given Some normal step N38

  @fast
  Scenario Outline:
    Given Some fast step N&lt;num&gt;

    Examples:
      | num |
      | 33  |
      | 34  |

  @normal @fast
  Scenario Outline:
    Given Some normal step N&lt;num&gt;
    And Some fast step N37

    Examples:
      | num |
      | 35  |
      | 36  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature4.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Feature N4

  @normal
  Scenario:
    Given Some normal step N41
    And Some fast step N42

  @fast
  Scenario:
    Given Some slow step N43</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Single tag</span>
<span class="path">features/annotations/tag_filters.feature:126</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '@slow' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  Scenario:
    Given Some slow step N12
    And Some normal step N13

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @slow
  Scenario Outline:
    Given Some slow step N&lt;num&gt;

    Examples:
      | num |
      | 31  |
      | 32  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">5 scenarios (5 passed)
12 steps (12 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Or tags</span>
<span class="path">features/annotations/tag_filters.feature:179</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '@slow,@normal' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  Scenario:
    Given Some slow step N12
    And Some normal step N13

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @slow
  Scenario Outline:
    Given Some slow step N&lt;num&gt;

    Examples:
      | num |
      | 31  |
      | 32  |

  @normal
  Scenario:
    Given Some normal step N38

  @normal @fast
  Scenario Outline:
    Given Some normal step N&lt;num&gt;
    And Some fast step N37

    Examples:
      | num |
      | 35  |
      | 36  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N4

  @normal
  Scenario:
    Given Some normal step N41
    And Some fast step N42</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">9 scenarios (9 passed)
22 steps (22 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">And tags</span>
<span class="path">features/annotations/tag_filters.feature:255</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '@slow,@normal&amp;&amp;@fast' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @normal @fast
  Scenario Outline:
    Given Some normal step N&lt;num&gt;
    And Some fast step N37

    Examples:
      | num |
      | 35  |
      | 36  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">4 scenarios (4 passed)
11 steps (11 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Not tags</span>
<span class="path">features/annotations/tag_filters.feature:305</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '~@slow&amp;&amp;~@fast' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @normal
  Scenario:
    Given Some normal step N38</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N4

  @normal
  Scenario:
    Given Some normal step N41
    And Some fast step N42</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">2 scenarios (2 passed)
4 steps (4 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<ul class="tags">
<li>@php540</li>
</ul>
<h2>
<span class="keyword">Feature: </span>
<span class="title">Support php 5.4 traits</span>
</h2>
<p>
In order to have much cleaner horizontal reusability<br />
As a context developer<br />
I need to be able to use definition traits in my context<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/annotations/traits.feature:7</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once __DIR__.'/ApplesDefinitions.php';

use Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;

class FeatureContext extends BehatContext
{
    use ApplesDefinitions;

    private $parameters;

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/ApplesDefinitions.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';

trait ApplesDefinitions
{
    private $apples = 0;

    /**
     * @Given /^I have (\d+) apples?$/
     */
    public function iHaveApples($count) {
        $this-&gt;apples = intval($count);
    }

    /**
     * @When /^I ate (\d+) apples?$/
     */
    public function iAteApples($count) {
        $this-&gt;apples -= intval($count);
    }

    /**
     * @When /^I found (\d+) apples?$/
     */
    public function iFoundApples($count) {
        $this-&gt;apples += intval($count);
    }

    /**
     * @Then /^I should have (\d+) apples$/
     */
    public function iShouldHaveApples($count) {
        assertEquals(intval($count), $this-&gt;apples);
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 2 apples

  Scenario: Found more apples
    When I found 5 apples
    Then I should have 8 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 4     | 7      |
      | 2   | 2     | 3      |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Run feature with failing scenarios</span>
<span class="path">features/annotations/traits.feature:104</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="failed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="failed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.....................

6 scenarios (6 passed)
21 steps (21 passed)</pre>
<pre class="backtrace">Failed asserting that 255 matches expected 0.</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Step Arguments</span>
</h2>
<p>
In order to write extended steps<br />
As a feature writer<br />
I need ability to specify Table &amp; PyString arguments to steps<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/arguments.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/env.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$world-&gt;strings[1] = &quot;hello,\n  w\n   o\nr\nl\n   d&quot;;
$world-&gt;tables[1]  = array(
  array('item1' =&gt; 'super', 'item2' =&gt; 'mega', 'item3' =&gt; 'extra'),
  array('item1' =&gt; 'hyper', 'item2' =&gt; 'mini', 'item3' =&gt; 'XXL'),
);</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/arguments.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^a pystring:$/', function($world, $string) {
    $world-&gt;input = $string;
});
$steps-&gt;Given('/^a table:$/', function($world, $table) {
    $world-&gt;input = $table;
});
$steps-&gt;Then('/^it must be equals to string (\d+)$/', function($world, $arg1) {
    assertEquals($world-&gt;strings[intval($arg1)], (string) $world-&gt;input);
});
$steps-&gt;Then('/^it must be equals to table (\d+)$/', function($world, $arg1) {
    assertEquals($world-&gt;tables[intval($arg1)], $world-&gt;input-&gt;getHash());
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">PyStrings</span>
<span class="path">features/closures/arguments.feature:97</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/pystring.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: PyStrings
  Scenario:
    Given a pystring:
      '''
      hello,
        w
         o
    r
     l
         d
      '''
    Then it must be equals to string 1</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/pystring.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">PyStrings tokens</span>
<span class="path">features/closures/arguments.feature:122</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/pystring_tokens.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: PyStrings
  Scenario Outline:
    Given a pystring:
      '''
      &lt;word1&gt;
        w
         o
    r
     &lt;word2&gt;
         d
      '''
    Then it must be equals to string 1

    Examples:
      | word1  | word2 |
      | hello, | l     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/pystring_tokens.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Table tokens</span>
<span class="path">features/closures/arguments.feature:151</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/table_tokens.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Tables
  Scenario Outline:
    Given a table:
      | item1   | item2   | item3   |
      | &lt;word1&gt; | &lt;word3&gt; | extra   |
      | hyper   | mini    | &lt;word2&gt; |
    Then it must be equals to table 1

    Examples:
      | word1 | word2 | word3 |
      | super | XXL   | mega  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/table_tokens.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Table</span>
<span class="path">features/closures/arguments.feature:175</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/table.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Tables
  Scenario:
    Given a table:
      | item1 | item2 | item3 |
      | super | mega  | extra |
      | hyper | mini  | XXL   |
    Then it must be equals to table 1</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/table.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Named arguments</span>
<span class="path">features/closures/arguments.feature:195</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/steps/named_args_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^I have number2 = (?P&lt;number2&gt;\d+) and number1 = (?P&lt;number1&gt;\d+)$/', function($world, $number1, $number2) {
    assertEquals(13, $number1);
    assertEquals(243, $number2);
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/named_args.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Named arguments
  In order to maintain i18n for steps
  As a step developer
  I need to be able to declare regex with named parameters

  Scenario:
    Given I have number2 = 243 and number1 = 13</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/named_args.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.

1 scenario (1 passed)
1 step (1 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Definitions translations</span>
</h2>
<p>
In order to be able to use predefined steps in native language<br />
As a step definitions developer<br />
I need to be able to write definition translations<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/definitions_translations.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface as Closured,
    Behat\Behat\Context\TranslatedContextInterface as Translated,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements Closured, Translated
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function getTranslationResources() {
        if (file_exists(__DIR__ . '/../steps/i18n')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.xliff')-&gt;in(__DIR__ . '/../steps/i18n');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">In place translations</span>
<span class="path">features/closures/definitions_translations.feature:81</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функция: Базовая калькуляция

  Сценарий:
    Допустим Я набрал число 10 на калькуляторе
    И Я набрал число 4 на калькуляторе
    И Я нажал &quot;+&quot;
    То Я должен увидеть на экране 14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/calc_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^I have entered (\d+) into calculator$/', function($world, $number) {
    $world-&gt;numbers[] = intval($number);
});
$steps-&gt;Given('/^I have clicked &quot;+&quot;$/', function($world) {
    $world-&gt;result = array_sum($world-&gt;numbers);
});
$steps-&gt;Then('/^I should see (\d+) on the screen$/', function($world, $result) {
    assertEquals(intval($result), $world-&gt;result);
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/i18n/ru.xliff</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;xliff version=&quot;1.2&quot; xmlns=&quot;urn:oasis:names:tc:xliff:document:1.2&quot;&gt;
  &lt;file original=&quot;global&quot; source-language=&quot;en&quot; target-language=&quot;ru&quot; datatype=&quot;plaintext&quot;&gt;
    &lt;header /&gt;
    &lt;body&gt;
      &lt;trans-unit id=&quot;i-have-entered&quot;&gt;
        &lt;source&gt;/^I have entered (\d+) into calculator$/&lt;/source&gt;
        &lt;target&gt;/^Я набрал число (\d+) на калькуляторе$/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-have-clicked-plus&quot;&gt;
        &lt;source&gt;/^I have clicked &quot;+&quot;$/&lt;/source&gt;
        &lt;target&gt;/^Я нажал &quot;([^&quot;]*)&quot;$/&lt;/target&gt;
      &lt;/trans-unit&gt;
      &lt;trans-unit id=&quot;i-should-see&quot;&gt;
        &lt;source&gt;/^I should see (\d+) on the screen$/&lt;/source&gt;
        &lt;target&gt;/^Я должен увидеть на экране (\d+)$/&lt;/target&gt;
      &lt;/trans-unit&gt;
    &lt;/body&gt;
  &lt;/file&gt;
&lt;/xliff&gt;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">....

1 scenario (1 passed)
4 steps (4 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Environment consistency</span>
</h2>
<p>
In order to maintain stable behavior tests<br />
As a feature writer<br />
I need a separate environment for every scenario/outline<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/environment.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/apple_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^I have (\d+) apples?$/', function($world, $apples) {
    $world-&gt;apples = intval($apples);
});
$steps-&gt;When('/^I ate (\d+) apples?$/', function($world, $apples) {
    $world-&gt;apples -= intval($apples);
});
$steps-&gt;When('/^I found (\d+) apples?$/', function($world, $apples) {
    $world-&gt;apples += intval($apples);
});
$steps-&gt;Then('/^I should have (\d+) apples$/', function($world, $apples) {
    assertEquals(intval($apples), $world-&gt;apples);
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">True "apples story"</span>
<span class="path">features/closures/environment.feature:88</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 2 apples

  Scenario: Found more apples
    When I found 2 apples
    Then I should have 5 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 1      |
      | 0   | 5     | 8      |
      | 2   | 2     | 3      |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..................

5 scenarios (5 passed)
18 steps (18 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">False "apples story"</span>
<span class="path">features/closures/environment.feature:127</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/apples.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Apples story
  In order to eat apple
  As a little kid
  I need to have an apple in my pocket

  Background:
    Given I have 3 apples

  Scenario: I'm little hungry
    When I ate 1 apple
    Then I should have 5 apples

  Scenario: Found more apples
    When I found 10 apples
    Then I should have 10 apples

  Scenario Outline: Other situations
    When I ate &lt;ate&gt; apples
    And I found &lt;found&gt; apples
    Then I should have &lt;result&gt; apples

    Examples:
      | ate | found | result |
      | 3   | 1     | 3      |
      | 0   | 5     | 8      |
      | 2   | 2     | 4      |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/apples.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F..F...F.......F

(::) failed steps (::)

01. Failed asserting that 2 matches expected 5.
    In step `Then I should have 5 apples'. # features/steps/apple_steps.php:11
    From scenario `I'm little hungry'.     # features/apples.feature:9

02. Failed asserting that 13 matches expected 10.
    In step `Then I should have 10 apples'. # features/steps/apple_steps.php:11
    From scenario `Found more apples'.      # features/apples.feature:13

03. Failed asserting that 1 matches expected 3.
    In step `Then I should have 3 apples'.  # features/steps/apple_steps.php:11
    From scenario `Other situations'.       # features/apples.feature:17

04. Failed asserting that 3 matches expected 4.
    In step `Then I should have 4 apples'.  # features/steps/apple_steps.php:11
    From scenario `Other situations'.       # features/apples.feature:17

5 scenarios (1 passed, 4 failed)
18 steps (14 passed, 4 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Environment parameters</span>
<span class="path">features/closures/environment.feature:184</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  context:
    parameters:
      parameter1: val_one
      parameter2:
        everzet: behat_admin
        avalanche123: behat_admin</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/env_vars_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Then('/^environment parameter &quot;([^&quot;]*)&quot; should be equal to &quot;([^&quot;]*)&quot;$/', function($world, $key, $val) {
    assertEquals($val, $world-&gt;parameters[$key]);
});

$steps-&gt;And('/^environment parameter &quot;([^&quot;]*)&quot; should be array with (\d+) elements$/', function($world, $key, $count) {
    assertInternalType('array', $world-&gt;parameters[$key]);
    assertEquals(2, count($world-&gt;parameters[$key]));
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/params.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Environment parameters
  In order to run a browser
  As feature runner
  I need to be able to configure behat environment

  Scenario: I'm little hungry
    Then environment parameter &quot;parameter1&quot; should be equal to &quot;val_one&quot;
    And environment parameter &quot;parameter2&quot; should be array with 2 elements</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/params.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">hooks</span>
</h2>
<p>
In order to hook into Behat testing process<br />
As a tester<br />
I need to be able to write hooks<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/hooks.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^I have entered (\d+)$/', function($world, $arg1) {
    $world-&gt;number = $arg1;
});
$steps-&gt;Then('/^I must have (\d+)$/', function($world, $arg1) {
    assertEquals($world-&gt;number, $arg1);
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/hooks.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$hooks-&gt;beforeSuite(function($event) {
    echo &quot;= do something before all suite run\n&quot;;
});
$hooks-&gt;afterSuite(function($event) {
    echo &quot;= do something after all suite run\n&quot;;
});
$hooks-&gt;beforeScenario('', function($event) {
    $env = $event-&gt;getContext();
    $env-&gt;number = 50;
});
$hooks-&gt;beforeScenario('130', function($event) {
    $env = $event-&gt;getContext();
    $env-&gt;number = 130;
});
$hooks-&gt;beforeScenario('@thirty', function($event) {
    $env = $event-&gt;getContext();
    $env-&gt;number = 30;
});
$hooks-&gt;afterStep('@100', function($event) {
    $env = $event-&gt;getContext();
    $env-&gt;number = 100;
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/hooks.feature:108</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/test.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature:
  Scenario:
    Then I must have 50
  Scenario:
    Given I have entered 12
    Then I must have 12

  @thirty
  Scenario:
    Given I must have 30
    When I have entered 23
    Then I must have 23
  @100 @thirty
  Scenario:
    Given I must have 30
    When I have entered 1
    Then I must have 100

  Scenario: 130
    Given I must have 130</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">= do something before all suite run
Feature:

  Scenario:             # features/test.feature:2
    Then I must have 50 # features/steps/steps.php:5

  Scenario:                 # features/test.feature:4
    Given I have entered 12 # features/steps/steps.php:2
    Then I must have 12     # features/steps/steps.php:5

  @thirty
  Scenario:                 # features/test.feature:9
    Given I must have 30    # features/steps/steps.php:5
    When I have entered 23  # features/steps/steps.php:2
    Then I must have 23     # features/steps/steps.php:5

  @100 @thirty
  Scenario:                 # features/test.feature:14
    Given I must have 30    # features/steps/steps.php:5
    When I have entered 1   # features/steps/steps.php:2
    Then I must have 100    # features/steps/steps.php:5

  Scenario: 130             # features/test.feature:19
    Given I must have 130   # features/steps/steps.php:5

= do something after all suite run
5 scenarios (5 passed)
10 steps (10 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">HTML Formatter</span>
</h2>
<p>
In order to print features<br />
As a feature writer<br />
I need to have an html formatter<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/html.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/math.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/I have entered (\d+)/', function($world, $num) {
    assertObjectNotHasAttribute('value', $world);
    $world-&gt;value = $num;
});

$steps-&gt;Then('/I must have (\d+)/', function($world, $num) {
    assertEquals($num, $world-&gt;value);
});

$steps-&gt;When('/I (add|subtract) the value (\d+)/', function($world, $op, $num) {
    if ($op == 'add')
      $world-&gt;value += $num;
    elseif ($op == 'subtract')
      $world-&gt;value -= $num;
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple parameters</span>
<span class="path">features/closures/html.feature:91</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Adding
    Then I must have 10
    And I add the value 6
    Then I must have 16

  Scenario: Subtracting
    Then I must have 10
    And I subtract the value 6
    Then I must have 4</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f html</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;feature&quot;&gt;
&lt;h2&gt;
&lt;span class=&quot;keyword&quot;&gt;Feature: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;World consistency&lt;/span&gt;
&lt;/h2&gt;
&lt;p&gt;
In order to maintain stable behaviors&lt;br /&gt;
As a features developer&lt;br /&gt;
I want, that &amp;quot;World&amp;quot; flushes between scenarios&lt;br /&gt;
&lt;/p&gt;

&lt;div class=&quot;scenario background&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Background: &lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:6&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Given &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I have entered &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:2&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;scenario&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Adding&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:9&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;add&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;6&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:11&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;16&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&quot;scenario&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Subtracting&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:14&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;subtract&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;6&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:11&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;4&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Scenario outline examples table</span>
<span class="path">features/closures/html.feature:205</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario Outline: Adding
    Then I must have 10
    And I add the value &lt;n&gt;
    Then I must have &lt;total&gt;

    Examples:
      | n  | total |
      | 5  | 15    |
      | 10 | 21    |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f html</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;scenario outline&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario Outline: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Adding&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:9&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I add the value &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;n&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:11&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;total&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;examples&quot;&gt;
&lt;h4&gt;Examples&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;skipped&quot;&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;total&lt;/td&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;passed&quot;&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;failed&quot;&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;failed exception&quot;&gt;
&lt;td colspan=&quot;2&quot;&gt;
&lt;pre class=&quot;backtrace&quot;&gt;Failed asserting that 20 matches expected '21'.&lt;/pre&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Scenario outline examples expanded</span>
<span class="path">features/closures/html.feature:287</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario Outline: Adding
    Then I must have 10
    And I add the value &lt;n&gt;
    Then I must have &lt;total&gt;

    Examples:
      | n  | total |
      | 5  | 15    |
      | 10 | 21    |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f html --expand</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;scenario outline&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario Outline: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Adding&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:9&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I add the value &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;n&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:11&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li class=&quot;skipped&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;skipped_param&quot;&gt;&amp;lt;total&amp;gt;&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;examples&quot;&gt;
&lt;h4&gt;Examples: &lt;span&gt;5&lt;/span&gt;&lt;span&gt;15&lt;/span&gt;&lt;/h4&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;add&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;5&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:11&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;15&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;Examples: &lt;span&gt;10&lt;/span&gt;&lt;span&gt;21&lt;/span&gt;&lt;/h4&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;And &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I &lt;strong class=&quot;passed_param&quot;&gt;add&lt;/strong&gt; the value &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:11&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li class=&quot;failed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Then &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I must have &lt;strong class=&quot;failed_param&quot;&gt;21&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/steps/math.php:7&lt;/span&gt;
&lt;/div&gt;
&lt;pre class=&quot;backtrace&quot;&gt;Failed asserting that 20 matches expected '21'.&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Links to step definitions relative to a remote base</span>
<span class="path">features/closures/html.feature:402</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  paths:
    features:               %behat.paths.base%/features
    bootstrap:              %behat.paths.base%/features/bootstrap
  formatter:
    name:                   'html'
    parameters:
      paths_base_url:        'http://localhost/'</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Scenario: Nothing
    Given I have entered 10</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-c behat.yml -f html</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">&lt;div class=&quot;scenario&quot;&gt;
&lt;h3&gt;
&lt;span class=&quot;keyword&quot;&gt;Scenario: &lt;/span&gt;
&lt;span class=&quot;title&quot;&gt;Nothing&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;features/World.feature:6&lt;/span&gt;
&lt;/h3&gt;
&lt;ol&gt;
&lt;li class=&quot;passed&quot;&gt;
&lt;div class=&quot;step&quot;&gt;
&lt;span class=&quot;keyword&quot;&gt;Given &lt;/span&gt;
&lt;span class=&quot;text&quot;&gt;I have entered &lt;strong class=&quot;passed_param&quot;&gt;10&lt;/strong&gt;&lt;/span&gt;
&lt;span class=&quot;path&quot;&gt;&lt;a href=&quot;http://localhost/features/steps/math.php&quot;&gt;features/steps/math.php:2&lt;/a&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">I18n</span>
</h2>
<p>
In order to write i18nal features<br />
As a feature writer<br />
I need to have i18n support<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/i18n.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/math.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/Я ввел (\d+)/', function($world, $num) {
    assertObjectNotHasAttribute('value', $world);
    $world-&gt;value = $num;
});

$steps-&gt;Then('/Я должен иметь (\d+)/', function($world, $num) {
    assertEquals($num, $world-&gt;value);
});

$steps-&gt;When('/Я добавлю (\d+)/', function($world, $num) {
    $world-&gt;value += $num;
});

$steps-&gt;Given('/^Что-то еще не сделано$/', function($world) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Постоянство мира
  Чтобы поддерживать стабильными тесты
  Как разработчик функционала
  Я хочу чтобы Мир сбрасывался между сценариями

  Предыстория:
    Если Я ввел 10

  Сценарий: Неопределен
    То Я должен иметь 10
    И Что-то новое
    То Я должен иметь 10

  Сценарий: В ожидании
    То Я должен иметь 10
    И Что-то еще не сделано
    То Я должен иметь 10

  Сценарий: Провален
    Если Я добавлю 4
    То Я должен иметь 13

  Структура сценария: Пройдено и Провалено
    Допустим Я должен иметь 10
    Если Я добавлю &lt;значение&gt;
    То Я должен иметь &lt;результат&gt;

    Примеры:
      | значение | результат |
      |  5       | 16        |
      |  10      | 20        |
      |  23      | 32        |</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Pretty</span>
<span class="path">features/closures/i18n.feature:128</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --lang=ru</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Функционал: Постоянство мира
  Чтобы поддерживать стабильными тесты
  Как разработчик функционала
  Я хочу чтобы Мир сбрасывался между сценариями

  Предыстория:     # features/World.feature:7
    Если Я ввел 10 # features/steps/math.php:2

  Сценарий: Неопределен  # features/World.feature:10
    То Я должен иметь 10 # features/steps/math.php:7
    И Что-то новое
    То Я должен иметь 10 # features/steps/math.php:7

  Сценарий: В ожидании      # features/World.feature:15
    То Я должен иметь 10    # features/steps/math.php:7
    И Что-то еще не сделано # features/steps/math.php:15
      TODO: write pending definition
    То Я должен иметь 10    # features/steps/math.php:7

  Сценарий: Провален        # features/World.feature:20
    Если Я добавлю 4        # features/steps/math.php:11
    То Я должен иметь 13    # features/steps/math.php:7
      Failed asserting that 14 matches expected '13'.

  Структура сценария: Пройдено и Провалено # features/World.feature:24
    Допустим Я должен иметь 10             # features/steps/math.php:7
    Если Я добавлю &lt;значение&gt;              # features/steps/math.php:11
    То Я должен иметь &lt;результат&gt;          # features/steps/math.php:7

    Примеры:
      | значение | результат |
      | 5        | 16        |
        Failed asserting that 15 matches expected '16'.
      | 10       | 20        |
      | 23       | 32        |
        Failed asserting that 33 matches expected '32'.

6 сценариев (1 пройден, 1 в ожидании, 1 не определен, 3 провалено)
23 шага (16 пройдено, 2 пропущено, 1 в ожидании, 1 не определен, 3 провалено)

Вы можете реализовать определения для новых шагов с помощью этих шаблонов:

$steps-&gt;Given('/^Что-то новое$/', function($world) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Progress</span>
<span class="path">features/closures/i18n.feature:179</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress --lang=ru</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..U-..P-..F...F.......F

(::) проваленные шаги (::)

01. Failed asserting that 14 matches expected '13'.
    In step `То Я должен иметь 13'. # features/steps/math.php:7
    From scenario `Провален'.       # features/World.feature:20

02. Failed asserting that 15 matches expected '16'.
    In step `То Я должен иметь 16'.       # features/steps/math.php:7
    From scenario `Пройдено и Провалено'. # features/World.feature:24

03. Failed asserting that 33 matches expected '32'.
    In step `То Я должен иметь 32'.       # features/steps/math.php:7
    From scenario `Пройдено и Провалено'. # features/World.feature:24

(::) шаги в ожидании (::)

01. TODO: write pending definition
    In step `И Что-то еще не сделано'.    # features/steps/math.php:15
    From scenario `В ожидании'.           # features/World.feature:15

6 сценариев (1 пройден, 1 в ожидании, 1 не определен, 3 провалено)
23 шага (16 пройдено, 2 пропущено, 1 в ожидании, 1 не определен, 3 провалено)

Вы можете реализовать определения для новых шагов с помощью этих шаблонов:

$steps-&gt;Given('/^Что-то новое$/', function($world) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Call step in other step</span>
</h2>
<p>
In order to mantain fluid step definition<br />
As a features writer<br />
I need to be able to call other steps from step body<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/instep_call.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/env.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$world-&gt;hash = array('username' =&gt; 'everzet', 'password' =&gt; 'qwerty');</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/calc_steps_en.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/I have entered &quot;([^&quot;]*)&quot;/', function($world, $number) {
    $world-&gt;numbers[] = $number;
});
$steps-&gt;When('/I press +/', function($world) {
    $world-&gt;result  = array_sum($world-&gt;numbers);
    $world-&gt;numbers = array();
});
$steps-&gt;Then('/I should see &quot;([^&quot;]*)&quot; on the screen/', function($world, $result) {
    assertEquals($result, $world-&gt;result);
});
$steps-&gt;Then('/Table should be:/', function($world, $table) {
    assertEquals($world-&gt;hash, $table-&gt;getRowsHash());
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/calc_steps_ru.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Допустим('/Я ввел &quot;([^&quot;]*)&quot;/', function($world, $number) use($steps) {
    $steps-&gt;Given(&quot;I have entered \&quot;$number\&quot;&quot;, $world);
});
$steps-&gt;Если('/Я нажму +/', function($world) use($steps) {
    $steps-&gt;When(&quot;I press +&quot;, $world);
});
$steps-&gt;Тогда('/Я должен увидеть на экране &quot;([^&quot;]*)&quot;/', function($world, $result) use($steps) {
    $steps-&gt;Then(&quot;I should see \&quot;$result\&quot; on the screen&quot;, $world);
});
$steps-&gt;Тогда('/Я создам себе failing таблицу/', function($world) use($steps) {
    $steps-&gt;Then('Table should be:', $world, new Behat\Gherkin\Node\TableNode(&lt;&lt;&lt;TABLE
      | username | antono |
      | password | 123    |
TABLE
    ));
});
$steps-&gt;Тогда('/Я создам себе passing таблицу/', function($world) use($steps) {
    $steps-&gt;Then('Table should be:', $world, new Behat\Gherkin\Node\TableNode(&lt;&lt;&lt;TABLE
      | username | everzet |
      | password | qwerty  |
TABLE
    ));
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/instep_call.feature:121</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_en.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Basic calculator
  Scenario:
    Given I have entered &quot;12&quot;
    And I have entered &quot;27&quot;
    And I have entered &quot;5&quot;
    When I press +
    Then I should see &quot;44&quot; on the screen</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_en.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.....

1 scenario (1 passed)
5 steps (5 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/instep_call.feature:141</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_en.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Basic calculator
  Scenario:
    Given I have entered &quot;7&quot;
    When I press +
    Then I should see &quot;8&quot; on the screen</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_en.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..F

(::) failed steps (::)

01. Failed asserting that 7 matches expected '8'.
    In step `Then I should see &quot;8&quot; on the screen'. # features/steps/calc_steps_en.php:9
    From scenario ***.                             # features/calc_en.feature:2

1 scenario (1 failed)
3 steps (2 passed, 1 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/instep_call.feature:165</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Стандартный калькулятор
  Сценарий:
    Допустим Я ввел &quot;12&quot;
    И Я ввел &quot;27&quot;
    Если Я нажму +
    То Я должен увидеть на экране &quot;39&quot;
    И Я создам себе passing таблицу</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.....

1 scenario (1 passed)
5 steps (5 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/instep_call.feature:186</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/calc_ru.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument"># language: ru
Функционал: Стандартный калькулятор
  Сценарий:
    Допустим Я ввел &quot;7&quot;
    Если Я нажму +
    То Я должен увидеть на экране &quot;8&quot;

  Сценарий:
    Допустим Я создам себе failing таблицу</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/calc_ru.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">..FF

(::) failed steps (::)

01. Failed asserting that 7 matches expected '8'.
    In step `То Я должен увидеть на экране &quot;8&quot;'. # features/steps/calc_steps_ru.php:8
    From scenario ***.                           # features/calc_ru.feature:3

02. Failed asserting that two arrays are equal.
    In step `Допустим Я создам себе failing таблицу'. # features/steps/calc_steps_ru.php:11
    From scenario ***.                                # features/calc_ru.feature:8

2 scenarios (2 failed)
4 steps (2 passed, 2 failed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Names</span>
</h2>
<p>
In order to run only needed features<br />
As a Behat user<br />
I need to Behat support features &amp; scenario/outline names filtering<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/names.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^Some slow step N(\d+)$/', function($world, $num) {});
$steps-&gt;Given('/^Some normal step N(\d+)$/', function($world, $num) {});
$steps-&gt;Given('/^Some fast step N(\d+)$/', function($world, $num) {});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature1.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:
    Given Some slow step N11

  Scenario: First Scenario
    Given Some slow step N12
    And Some normal step N13

  Scenario: Second Scenario
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature2.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Second Feature

  Background:
    Given Some normal step N21

  Scenario: First Scenario
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">First Name</span>
<span class="path">features/closures/names.feature:104</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --name First</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:                # features/feature1.feature:3
    Given Some slow step N11 # features/steps/steps.php:2

  Scenario: First Scenario   # features/feature1.feature:6
    Given Some slow step N12 # features/steps/steps.php:2
    And Some normal step N13 # features/steps/steps.php:3

  Scenario: Second Scenario  # features/feature1.feature:10
    Given Some fast step N14 # features/steps/steps.php:4

Feature: Second Feature

  Background:                  # features/feature2.feature:3
    Given Some normal step N21 # features/steps/steps.php:3

  Scenario: First Scenario     # features/feature2.feature:6
    Given Some slow step N22   # features/steps/steps.php:2
    And Some fast step N23     # features/steps/steps.php:4

3 scenarios (3 passed)
8 steps (8 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Second Name</span>
<span class="path">features/closures/names.feature:133</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --name 'Second Scenario'</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:                # features/feature1.feature:3
    Given Some slow step N11 # features/steps/steps.php:2

  Scenario: Second Scenario  # features/feature1.feature:10
    Given Some fast step N14 # features/steps/steps.php:4

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">RegEx</span>
<span class="path">features/closures/names.feature:149</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --name '/nd Scenario$/'</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: First Feature

  Background:                # features/feature1.feature:3
    Given Some slow step N11 # features/steps/steps.php:2

  Scenario: Second Scenario  # features/feature1.feature:10
    Given Some fast step N14 # features/steps/steps.php:4

1 scenario (1 passed)
2 steps (2 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Scenario Outlines</span>
</h2>
<p>
In order to write complex features<br />
As a features writer<br />
I want to write scenario outlines<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/outlines.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/math.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^I have basic calculator$/', function($world) {
    $world-&gt;result  = 0;
    $world-&gt;numbers = array();
});
$steps-&gt;Given('/^I have entered (\d+)$/', function($world, $number) {
    $world-&gt;numbers[] = intval($number);
});
$steps-&gt;When('/^I add$/', function($world) {
    foreach ($world-&gt;numbers as $number) {
        $world-&gt;result += $number;
    }
    $world-&gt;numbers = array();
});
$steps-&gt;When('/^I sub$/', function($world) {
    $world-&gt;result = array_shift($world-&gt;numbers);
    foreach ($world-&gt;numbers as $number) {
        $world-&gt;result -= $number;
    }
    $world-&gt;numbers = array();
});
$steps-&gt;When('/^I multiply$/', function($world) {
    $world-&gt;result = array_shift($world-&gt;numbers);
    foreach ($world-&gt;numbers as $number) {
        $world-&gt;result *= $number;
    }
    $world-&gt;numbers = array();
});
$steps-&gt;When('/^I div$/', function($world) {
    $world-&gt;result = array_shift($world-&gt;numbers);
    foreach ($world-&gt;numbers as $number) {
        $world-&gt;result /= $number;
    }
    $world-&gt;numbers = array();
});
$steps-&gt;Then('/^The result should be (\d+)$/', function($world, $result) {
    assertEquals($result, $world-&gt;result);
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Basic scenario outline</span>
<span class="path">features/closures/outlines.feature:113</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">...............

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple scenario outlines</span>
<span class="path">features/closures/outlines.feature:141</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I multiply
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 120    |
      | 5       | 3       | 15     |

  Scenario:
    Given I have entered 10
    And I have entered 3
    When I sub
    Then The result should be 7

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I div
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 2       | 5      |
      | 50      | 5       | 10     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.........................

5 scenarios (5 passed)
25 steps (25 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple scenario outlines with failing steps</span>
<span class="path">features/closures/outlines.feature:185</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I multiply
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 120    |
      | 5       | 4       | 15     |

  Scenario:
    Given I have entered 10
    And I have entered 4
    When I sub
    Then The result should be 7

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I div
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 2       | 5      |
      | 50      | 10      | 2      |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.........F....F.........F

(::) failed steps (::)

01. Failed asserting that 20 matches expected '15'.
    In step `Then The result should be 15'. # features/steps/math.php:36
    From scenario ***.                      # features/math.feature:5

02. Failed asserting that 6 matches expected '7'.
    In step `Then The result should be 7'.  # features/steps/math.php:36
    From scenario ***.                      # features/math.feature:16

03. Failed asserting that 5 matches expected '2'.
    In step `Then The result should be 2'.  # features/steps/math.php:36
    From scenario ***.                      # features/math.feature:22

5 scenarios (2 passed, 3 failed)
25 steps (22 passed, 3 failed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Pretty Formatter</span>
</h2>
<p>
In order to debug features<br />
As a feature writer<br />
I need to have pretty formatter<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/pretty.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Complex</span>
<span class="path">features/closures/pretty.feature:72</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/steps/math.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/I have entered (\d+)/', function($world, $num) {
    assertObjectNotHasAttribute('value', $world);
    $world-&gt;value = $num;
});

$steps-&gt;Then('/I must have (\d+)/', function($world, $num) {
    assertEquals($num, $world-&gt;value);
});

$steps-&gt;When('/I add (\d+)/', function($world, $num) {
    $world-&gt;value += $num;
});

$steps-&gt;Given('/^Something not done yet$/', function($world) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Undefined
    Then I must have 10
    And Something new
    Then I must have 10

  Scenario: Pending
    Then I must have 10
    And Something not done yet
    Then I must have 10

  Scenario: Failed
    When I add 4
    Then I must have 13

  Scenario Outline: Passed &amp; Failed
    Given I must have 10
    When I add &lt;value&gt;
    Then I must have &lt;result&gt;

    Examples:
      | value | result |
      |  5    | 16     |
      |  10   | 20     |
      |  23   | 32     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:               # features/World.feature:6
    Given I have entered 10 # features/steps/math.php:2

  Scenario: Undefined       # features/World.feature:9
    Then I must have 10     # features/steps/math.php:7
    And Something new
    Then I must have 10     # features/steps/math.php:7

  Scenario: Pending            # features/World.feature:14
    Then I must have 10        # features/steps/math.php:7
    And Something not done yet # features/steps/math.php:15
      TODO: write pending definition
    Then I must have 10        # features/steps/math.php:7

  Scenario: Failed             # features/World.feature:19
    When I add 4               # features/steps/math.php:11
    Then I must have 13        # features/steps/math.php:7
      Failed asserting that 14 matches expected '13'.

  Scenario Outline: Passed &amp; Failed # features/World.feature:23
    Given I must have 10            # features/steps/math.php:7
    When I add &lt;value&gt;              # features/steps/math.php:11
    Then I must have &lt;result&gt;       # features/steps/math.php:7

    Examples:
      | value | result |
      | 5     | 16     |
        Failed asserting that 15 matches expected '16'.
      | 10    | 20     |
      | 23    | 32     |
        Failed asserting that 33 matches expected '32'.

6 scenarios (1 passed, 1 pending, 1 undefined, 3 failed)
23 steps (16 passed, 2 skipped, 1 pending, 1 undefined, 3 failed)

You can implement step definitions for undefined steps with these snippets:

$steps-&gt;Given('/^Something new$/', function($world) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Multiple parameters</span>
<span class="path">features/closures/pretty.feature:178</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/steps/math.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/I have entered (\d+)/', function($world, $num) {
    assertObjectNotHasAttribute('value', $world);
    $world-&gt;value = $num;
});

$steps-&gt;Then('/I must have (\d+)/', function($world, $num) {
    assertEquals($num, $world-&gt;value);
});

$steps-&gt;When('/I (add|subtract) the value (\d+)/', function($world, $op, $num) {
    if ($op == 'add')
      $world-&gt;value += $num;
    elseif ($op == 'subtract')
      $world-&gt;value -= $num;
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/World.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:
    Given I have entered 10

  Scenario: Adding
    Then I must have 10
    And I add the value 6
    Then I must have 16

  Scenario: Subtracting
    Then I must have 10
    And I subtract the value 6
    Then I must have 4</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --ansi</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: World consistency
  In order to maintain stable behaviors
  As a features developer
  I want, that &quot;World&quot; flushes between scenarios

  Background:               [30m# features/World.feature:6[0m
    [32mGiven I have entered [0m[32;1m10[0m[32m[0m [30m# features/steps/math.php:2[0m

  Scenario: Adding          [30m# features/World.feature:9[0m
    [32mThen I must have [0m[32;1m10[0m[32m[0m     [30m# features/steps/math.php:7[0m
    [32mAnd I [0m[32;1madd[0m[32m the value [0m[32;1m6[0m[32m[0m   [30m# features/steps/math.php:11[0m
    [32mThen I must have [0m[32;1m16[0m[32m[0m     [30m# features/steps/math.php:7[0m

  Scenario: Subtracting        [30m# features/World.feature:14[0m
    [32mThen I must have [0m[32;1m10[0m[32m[0m        [30m# features/steps/math.php:7[0m
    [32mAnd I [0m[32;1msubtract[0m[32m the value [0m[32;1m6[0m[32m[0m [30m# features/steps/math.php:11[0m
    [32mThen I must have [0m[32;1m4[0m[32m[0m         [30m# features/steps/math.php:7[0m

2 scenarios ([32m2 passed[0m)
8 steps ([32m8 passed[0m)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Profiles</span>
</h2>
<p>
In order to test my features<br />
As a tester<br />
I need to be able to create and run custom profiles<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/profiles.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/math.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^I have basic calculator$/', function($world) {
    $world-&gt;result  = 0;
    $world-&gt;numbers = array();
});
$steps-&gt;Given('/^I have entered (\d+)$/', function($world, $number) {
    $world-&gt;numbers[] = intval($number);
});
$steps-&gt;When('/^I add$/', function($world) {
    $world-&gt;result  = array_sum($world-&gt;numbers);
    $world-&gt;numbers = array();
});
$steps-&gt;When('/^I sub$/', function($world) {
    $world-&gt;result  = array_shift($world-&gt;numbers);
    $world-&gt;result -= array_sum($world-&gt;numbers);
    $world-&gt;numbers = array();
});
$steps-&gt;Then('/^The result should be (\d+)$/', function($world, $result) {
    assertEquals($result, $world-&gt;result);
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/math.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Math
  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">pretty.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">pretty:
  formatter:
    name: pretty</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">behat.yml</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">default:
  formatter:
    name: progress
pretty_without_paths:
  formatter:
    name: pretty
    parameters:
      paths: false
imports:
  - pretty.yml</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/profiles.feature:132</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">features/math.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">...............

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/profiles.feature:142</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">--profile pretty_without_paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Math

  Background:
    Given I have basic calculator

  Scenario Outline:
    Given I have entered &lt;number1&gt;
    And I have entered &lt;number2&gt;
    When I add
    Then The result should be &lt;result&gt;

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="path">features/closures/profiles.feature:167</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">I run "behat <strong class="passed_param">--profile pretty</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">Feature: Math

  Background:                     # features/math.feature:2
    Given I have basic calculator # features/steps/math.php:2

  Scenario Outline:                    # features/math.feature:5
    Given I have entered &lt;number1&gt;     # features/steps/math.php:6
    And I have entered &lt;number2&gt;       # features/steps/math.php:6
    When I add                         # features/steps/math.php:9
    Then The result should be &lt;result&gt; # features/steps/math.php:18

    Examples:
      | number1 | number2 | result |
      | 10      | 12      | 22     |
      | 5       | 3       | 8      |
      | 5       | 5       | 10     |

3 scenarios (3 passed)
15 steps (15 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Different result types</span>
</h2>
<p>
In order to differentiate feature statuses<br />
As a feature writer<br />
I need to be able to see different types of test results<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/result_types.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Undefined steps</span>
<span class="path">features/closures/result_types.feature:72</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Undefined coffee machine actions
  In order to make clients happy
  As a coffee machine factory
  We need to be able to tell customers
  about what coffe type is supported

  Background:
    Given I have magically created 10$

  Scenario: Buy incredible coffee
    When I have chose &quot;coffee with turkey&quot; in coffee machine
    Then I should have &quot;turkey with coffee sauce&quot;

  Scenario: Buy incredible tea
    When I have chose &quot;pizza tea&quot; in coffee machine
    Then I should have &quot;pizza tea&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">UUUUUU

2 scenarios (2 undefined)
6 steps (6 undefined)

You can implement step definitions for undefined steps with these snippets:

$steps-&gt;Given('/^I have magically created (\d+)\$$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});

$steps-&gt;When('/^I have chose &quot;([^&quot;]*)&quot; in coffee machine$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});

$steps-&gt;Then('/^I should have &quot;([^&quot;]*)&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--strict -f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">UUUUUU

2 scenarios (2 undefined)
6 steps (6 undefined)

You can implement step definitions for undefined steps with these snippets:

$steps-&gt;Given('/^I have magically created (\d+)\$$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});

$steps-&gt;When('/^I have chose &quot;([^&quot;]*)&quot; in coffee machine$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});

$steps-&gt;Then('/^I should have &quot;([^&quot;]*)&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Pending steps</span>
<span class="path">features/closures/result_types.feature:137</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Pending coffee machine actions
  In order to make some long making drinks
  As a coffee machine
  I need to be able to make pending actions

  Background:
    Given human have ordered very very very hot &quot;coffee&quot;

  Scenario: When the coffee ready
    When the coffee will be ready
    Then I should say &quot;Take your cup!&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/coffee_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^human have ordered very very very hot &quot;([^&quot;]*)&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});
$steps-&gt;When('/^the coffee will be ready$/', function($world) {
    throw new \Behat\Behat\Exception\PendingException('Handle &quot;Coffee Ready&quot; action');
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">P-U

(::) pending steps (::)

01. TODO: write pending definition
    In step `Given human have ordered very very very hot &quot;coffee&quot;'. # features/steps/coffee_steps.php:2
    From scenario background.                                       # features/coffee.feature:6

1 scenario (1 undefined)
3 steps (1 skipped, 1 pending, 1 undefined)

You can implement step definitions for undefined steps with these snippets:

$steps-&gt;Then('/^I should say &quot;([^&quot;]*)&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">--strict -f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">P-U

(::) pending steps (::)

01. TODO: write pending definition
    In step `Given human have ordered very very very hot &quot;coffee&quot;'. # features/steps/coffee_steps.php:2
    From scenario background.                                       # features/coffee.feature:6

1 scenario (1 undefined)
3 steps (1 skipped, 1 pending, 1 undefined)

You can implement step definitions for undefined steps with these snippets:

$steps-&gt;Then('/^I should say &quot;([^&quot;]*)&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Failed steps</span>
<span class="path">features/closures/result_types.feature:203</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Failed coffee machine actions
  In order to know about coffee machine failures
  As a coffee buyer
  I need to be able to know about failed actions

  Background:
    Given I have throwed 10$ into machine

  Scenario: Check throwed amount
    Then I should see 12$ on the screen

  Scenario: Additional throws
    Given I have throwed 20$ into machine
    Then I should see 31$ on the screen
    And I should see 33$ on the screen</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/coffee_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^I have throwed (\d+)\$ into machine$/', function($world, $money) {
    $world-&gt;money += $money;
});
$steps-&gt;Then('/^I should see (\d+)\$ on the screen$/', function($world, $money) {
    assertEquals($money, $world-&gt;money);
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.F..F-

(::) failed steps (::)

01. Failed asserting that 10 matches expected '12'.
    In step `Then I should see 12$ on the screen'. # features/steps/coffee_steps.php:5
    From scenario `Check throwed amount'.          # features/coffee.feature:9

02. Failed asserting that 30 matches expected '31'.
    In step `Then I should see 31$ on the screen'. # features/steps/coffee_steps.php:5
    From scenario `Additional throws'.             # features/coffee.feature:12

2 scenarios (2 failed)
6 steps (3 passed, 1 skipped, 2 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Skipped steps</span>
<span class="path">features/closures/result_types.feature:251</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Skipped coffee machine actions
  In order to tell clients about failures faster
  As a coffee machine
  I need to be able to skip unneeded steps

  Background:
    Given human bought coffee

  Scenario: I have no water
    Given I have no water
    And I have electricity
    When I boil water
    Then the coffee should be almost done

  Scenario: I have no electricity
    Given I have water
    And I have no electricity
    When I boil water
    Then the coffee should be almost done</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/coffee_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^human bought coffee$/', function($world) {});
$steps-&gt;Given('/^I have no water$/', function($world) {
    throw new Exception('NO water in coffee machine!!!');
});
$steps-&gt;And('/^I have electricity$/', function($world) {});
$steps-&gt;When('/^I boil water$/', function($world) {});
$steps-&gt;Then('/^the coffee should be almost done$/', function($world) {});
$steps-&gt;Given('/^I have water$/', function($world) {});
$steps-&gt;And('/^I have no electricity$/', function($world) {
    throw new Exception('NO electricity in coffee machine!!!');
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">.F---..F--

(::) failed steps (::)

01. NO water in coffee machine!!!
    In step `Given I have no water'. # features/steps/coffee_steps.php:3
    From scenario `I have no water'. # features/coffee.feature:9

02. NO electricity in coffee machine!!!
    In step `And I have no electricity'.   # features/steps/coffee_steps.php:10
    From scenario `I have no electricity'. # features/coffee.feature:15

2 scenarios (2 failed)
10 steps (3 passed, 5 skipped, 2 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Ambigious steps</span>
<span class="path">features/closures/result_types.feature:308</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Ambigious orders in coffee menu
  In order to be able to chose concrete coffee type
  As a coffee buyer
  I need to be able to know about ambigious decisions

  Scenario: Ambigious coffee type
    Given human have chosen &quot;Latte&quot;
    Then I should make him &quot;Latte&quot;</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/coffee_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^human have chosen &quot;([^&quot;]*)&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});
$steps-&gt;Given('/^human have chosen &quot;Latte&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});
$steps-&gt;Then('/^I should make him &quot;([^&quot;]*)&quot;$/', function($world, $arg1) {
    throw new \Behat\Behat\Exception\PendingException();
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">F-

(::) failed steps (::)

01. Ambiguous match of &quot;human have chosen &quot;Latte&quot;&quot;:
    to `/^human have chosen &quot;([^&quot;]*)&quot;$/` from features/steps/coffee_steps.php:2
    to `/^human have chosen &quot;Latte&quot;$/` from features/steps/coffee_steps.php:5
    In step `Given human have chosen &quot;Latte&quot;'.
    From scenario `Ambigious coffee type'.     # features/coffee.feature:6

1 scenario (1 failed)
2 steps (1 skipped, 1 failed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Redundant steps</span>
<span class="path">features/closures/result_types.feature:350</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/coffee.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Redundant actions
  In order to be able to know about errors in definitions as soon as possible
  As a coffee machine mechanic
  I need to be able to know about redundant menu definitions

  Scenario: Redundant menu
    Given customer bought coffee
    And customer bought another one coffee</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/coffee_steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^customer bought coffee$/', function($world) {
    // do something
});
$steps-&gt;Given('/^customer bought coffee$/', function($world) {
    // do something else
});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress features/coffee.feature</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">fail</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Step &quot;/^customer bought coffee$/&quot; is already defined in </pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Tags</span>
</h2>
<p>
In order to run only needed features<br />
As a Behat user<br />
I need to Behat support features &amp; scenario/outline tags<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/tags.feature:6</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/steps.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
$steps-&gt;Given('/^Some slow step N(\d+)$/', function($world, $num) {});
$steps-&gt;Given('/^Some normal step N(\d+)$/', function($world, $num) {});
$steps-&gt;Given('/^Some fast step N(\d+)$/', function($world, $num) {});</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature1.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  Scenario:
    Given Some slow step N12
    And Some normal step N13

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature2.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23

  @fast
  Scenario:
    Given Some fast step N24
    And Some fast step N25</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature3.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @slow
  Scenario Outline:
    Given Some slow step N&lt;num&gt;

    Examples:
      | num |
      | 31  |
      | 32  |

  @normal
  Scenario:
    Given Some normal step N38

  @fast
  Scenario Outline:
    Given Some fast step N&lt;num&gt;

    Examples:
      | num |
      | 33  |
      | 34  |

  @normal @fast
  Scenario Outline:
    Given Some normal step N&lt;num&gt;
    And Some fast step N37

    Examples:
      | num |
      | 35  |
      | 36  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/feature4.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Feature N4

  @normal
  Scenario:
    Given Some normal step N41
    And Some fast step N42

  @fast
  Scenario:
    Given Some slow step N43</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Single tag</span>
<span class="path">features/closures/tags.feature:164</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '@slow' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  Scenario:
    Given Some slow step N12
    And Some normal step N13

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @slow
  Scenario Outline:
    Given Some slow step N&lt;num&gt;

    Examples:
      | num |
      | 31  |
      | 32  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">5 scenarios (5 passed)
12 steps (12 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Or tags</span>
<span class="path">features/closures/tags.feature:217</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '@slow,@normal' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  Scenario:
    Given Some slow step N12
    And Some normal step N13

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @slow
  Scenario Outline:
    Given Some slow step N&lt;num&gt;

    Examples:
      | num |
      | 31  |
      | 32  |

  @normal
  Scenario:
    Given Some normal step N38

  @normal @fast
  Scenario Outline:
    Given Some normal step N&lt;num&gt;
    And Some fast step N37

    Examples:
      | num |
      | 35  |
      | 36  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N4

  @normal
  Scenario:
    Given Some normal step N41
    And Some fast step N42</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">9 scenarios (9 passed)
22 steps (22 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">And tags</span>
<span class="path">features/closures/tags.feature:293</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '@slow,@normal&amp;&amp;@fast' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">@slow
Feature: Feature N1

  Background:
    Given Some slow step N11

  @fast
  Scenario:
    Given Some fast step N14</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N2

  Background:
    Given Some normal step N21

  @slow @fast
  Scenario:
    Given Some slow step N22
    And Some fast step N23</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @normal @fast
  Scenario Outline:
    Given Some normal step N&lt;num&gt;
    And Some fast step N37

    Examples:
      | num |
      | 35  |
      | 36  |</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">4 scenarios (4 passed)
11 steps (11 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Not tags</span>
<span class="path">features/closures/tags.feature:343</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f pretty --tags '~@slow&amp;&amp;~@fast' --no-paths</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong></span>
<span class="path">FeatureContext::itShouldFail()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N3

  Background:
    Given Some normal step N21

  @normal
  Scenario:
    Given Some normal step N38</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">Feature: Feature N4

  @normal
  Scenario:
    Given Some normal step N41
    And Some fast step N42</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">the output should contain:</span>
<span class="path">FeatureContext::theOutputShouldContain()</span>
</div>
<pre class="argument">2 scenarios (2 passed)
4 steps (4 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="feature">
<h2>
<span class="keyword">Feature: </span>
<span class="title">Step Arguments Transformations</span>
</h2>
<p>
In order to follow DRY<br />
As a feature writer<br />
I need to be able to move common<br />
arguments transformations<br />
into transformation functions<br />
</p>

<div class="scenario background">
<h3>
<span class="keyword">Background: </span>
<span class="path">features/closures/transformations.feature:8</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/bootstrap/FeatureContext.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php

use Behat\Behat\Context\ClosuredContextInterface,
    Behat\Behat\Context\BehatContext,
    Behat\Behat\Exception\PendingException;
use Behat\Gherkin\Node\PyStringNode,
    Behat\Gherkin\Node\TableNode;
use Symfony\Component\Finder\Finder;

if (file_exists(__DIR__ . '/../support/bootstrap.php')) {
    require_once __DIR__ . '/../support/bootstrap.php';
}

class FeatureContext extends BehatContext implements ClosuredContextInterface
{
    public $parameters = array();

    public function __construct(array $parameters) {
        $this-&gt;parameters = $parameters;

        if (file_exists(__DIR__ . '/../support/env.php')) {
            $world = $this;
            require(__DIR__ . '/../support/env.php');
        }
    }

    public function getStepDefinitionResources() {
        if (file_exists(__DIR__ . '/../steps')) {
            $finder = new Finder();
            return $finder-&gt;files()-&gt;name('*.php')-&gt;in(__DIR__ . '/../steps');
        }
        return array();
    }

    public function getHookDefinitionResources() {
        if (file_exists(__DIR__ . '/../support/hooks.php')) {
            return array(__DIR__ . '/../support/hooks.php');
        }
        return array();
    }

    public function __call($name, array $args) {
        if (isset($this-&gt;$name) &amp;&amp; is_callable($this-&gt;$name)) {
            return call_user_func_array($this-&gt;$name, $args);
        } else {
            $trace = debug_backtrace();
            trigger_error(
                'Call to undefined method ' . get_class($this) . '::' . $name .
                ' in ' . $trace[0]['file'] .
                ' on line ' . $trace[0]['line'],
                E_USER_ERROR
            );
        }
    }
}</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/support/bootstrap.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
require_once 'PHPUnit/Autoload.php';
require_once 'PHPUnit/Framework/Assert/Functions.php';</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">And </span>
<span class="text">a file named "<strong class="passed_param">features/steps/user.php</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">&lt;?php
class User
{
    private $username;
    private $age;

    public function __construct($username, $age = 20) { $this-&gt;username = $username; $this-&gt;age = $age; }
    public function getUsername() { return $this-&gt;username; }
    public function getAge() { return $this-&gt;age; }
}

$steps-&gt;Transform('/&quot;([^&quot;]+)&quot; user/', function($username) {
    return new User($username);
});

$steps-&gt;Transform('/^table:username,age$/', function($table) {
    $hash     = $table-&gt;getHash();
    $username = $hash[0]['username'];
    $age      = $hash[0]['age'];

    return new User($username, $age);
});

$steps-&gt;Given('/I am (&quot;\w+&quot; user)/', function($world, $user) {
    assertInstanceOf('User', $user);
    $world-&gt;user = $user;
});

$steps-&gt;Given('/I am user:/', function($world, $user) {
    $world-&gt;user = $user;
});

$steps-&gt;Then('/Username must be &quot;([^&quot;]+)&quot;/', function($world, $username) {
    assertEquals($username, $world-&gt;user-&gt;getUsername());
});

$steps-&gt;Then('/Age must be (\d+)/', function($world, $age) {
    assertEquals($age, $world-&gt;user-&gt;getAge());
});</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Simple Arguments Transformations</span>
<span class="path">features/closures/transformations.feature:116</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/step_arguments.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Step Arguments
  Scenario:
    Given I am &quot;everzet&quot; user
    Then Username must be &quot;everzet&quot;
    And Age must be 20

  Scenario:
    Given I am &quot;antono&quot; user
    Then Username must be &quot;antono&quot;
    And Age must be 20</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">......

2 scenarios (2 passed)
6 steps (6 passed)</pre>
</li>
</ol>
</div>
<div class="scenario">
<h3>
<span class="keyword">Scenario: </span>
<span class="title">Table Arguments Transformations</span>
<span class="path">features/closures/transformations.feature:139</span>
</h3>
<ol>
<li class="passed">
<div class="step">
<span class="keyword">Given </span>
<span class="text">a file named "<strong class="passed_param">features/table_arguments.feature</strong>" with:</span>
<span class="path">FeatureContext::aFileNamedWith()</span>
</div>
<pre class="argument">Feature: Step Arguments
  Scenario:
    Given I am user:
      | username | age |
      | ever.zet | 22  |
    Then Username must be &quot;ever.zet&quot;
    And Age must be 22

  Scenario:
    Given I am user:
      | username | age |
      | vasiljev | 30  |
    Then Username must be &quot;vasiljev&quot;
    And Age must be 30</pre>
</li>
<li class="passed">
<div class="step">
<span class="keyword">When </span>
<span class="text">I run "behat <strong class="passed_param">-f progress</strong>"</span>
<span class="path">FeatureContext::iRunBehat()</span>
</div>
</li>
<li class="passed">
<div class="step">
<span class="keyword">Then </span>
<span class="text">it should <strong class="passed_param">pass</strong> with:</span>
<span class="path">FeatureContext::itShouldPassWith()</span>
</div>
<pre class="argument">......

2 scenarios (2 passed)
6 steps (6 passed)</pre>
</li>
</ol>
</div>
</div>
<div class="summary failed">
<div class="counters">
<p class="scenarios">
135 scenarios (<strong class="passed">133 passed</strong>, <strong class="undefined">1 undefined</strong>, <strong class="failed">1 failed</strong>)
</p>
<p class="steps">
813 steps (<strong class="passed">807 passed</strong>, <strong class="undefined">5 undefined</strong>, <strong class="failed">1 failed</strong>)
</p>
<p class="time">
0m40.338s
</p>
</div>
<div class="switchers">
    <a href="javascript:void(0)" id="behat_show_all">[+] all</a>
    <a href="javascript:void(0)" id="behat_hide_all">[-] all</a>
</div>
</div>

    </div>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#behat .feature h2').click(function(){
                $(this).parent().toggleClass('jq-toggle-opened');
            }).parent().addClass('jq-toggle');

            $('#behat .scenario h3').click(function(){
                $(this).parent().toggleClass('jq-toggle-opened');
            }).parent().addClass('jq-toggle');

            $('#behat_show_all').click(function(){
                $('#behat .feature').addClass('jq-toggle-opened');
                $('#behat .scenario').addClass('jq-toggle-opened');
            });

            $('#behat_hide_all').click(function(){
                $('#behat .feature').removeClass('jq-toggle-opened');
                $('#behat .scenario').removeClass('jq-toggle-opened');
            });

            $('#behat .summary .counters .scenarios .passed')
                .addClass('switcher')
                .click(function(){
                    var $scenario = $('.feature .scenario:not(:has(.failed, .pending))');
                    var $feature  = $scenario.parent();

                    $('#behat_hide_all').click();

                    $scenario.addClass('jq-toggle-opened');
                    $feature.addClass('jq-toggle-opened');
                });

            $('#behat .summary .counters .steps .passed')
                .addClass('switcher')
                .click(function(){
                    var $scenario = $('.feature .scenario:has(.passed)');
                    var $feature  = $scenario.parent();

                    $('#behat_hide_all').click();

                    $scenario.addClass('jq-toggle-opened');
                    $feature.addClass('jq-toggle-opened');
                });

            $('#behat .summary .counters .failed')
                .addClass('switcher')
                .click(function(){
                    var $scenario = $('.feature .scenario:has(.failed)');
                    var $feature = $scenario.parent();

                    $('#behat_hide_all').click();

                    $scenario.addClass('jq-toggle-opened');
                    $feature.addClass('jq-toggle-opened');
                });

            $('#behat .summary .counters .skipped')
                .addClass('switcher')
                .click(function(){
                    var $scenario = $('.feature .scenario:has(.skipped)');
                    var $feature = $scenario.parent();

                    $('#behat_hide_all').click();

                    $scenario.addClass('jq-toggle-opened');
                    $feature.addClass('jq-toggle-opened');
                });

            $('#behat .summary .counters .pending')
                .addClass('switcher')
                .click(function(){
                    var $scenario = $('.feature .scenario:has(.pending)');
                    var $feature = $scenario.parent();

                    $('#behat_hide_all').click();

                    $scenario.addClass('jq-toggle-opened');
                    $feature.addClass('jq-toggle-opened');
                });
        });
    </script>
</body>
</html>
